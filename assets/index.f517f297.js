import{k as Ir,R as $r,r as O,j as C,e as wo,F as Ye,d as J,l as xo,u as _r,s as va,m as Oo,N as Le}from"./index.3d5aa0d2.js";var Fi={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var r=Object.prototype.hasOwnProperty,t=e.aliasToReal,n={};for(var a in t){var u=t[a];r.call(n,u)?n[u].push(a):n[u]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(Fi);var bi={},pe=Fi,$o=bi,da=Array.prototype.push;function _o(e,r){return r==2?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function yt(e,r){return r==2?function(t,n){return e(t,n)}:function(t){return e(t)}}function ha(e){for(var r=e?e.length:0,t=Array(r);r--;)t[r]=e[r];return t}function Po(e){return function(r){return e({},r)}}function So(e,r){return function(){for(var t=arguments.length,n=t-1,a=Array(t);t--;)a[t]=arguments[t];var u=a[r],i=a.slice(0,r);return u&&da.apply(i,u),r!=n&&da.apply(i,a.slice(r+1)),e.apply(this,i)}}function Et(e,r){return function(){var t=arguments.length;if(!!t){for(var n=Array(t);t--;)n[t]=arguments[t];var a=n[0]=r.apply(void 0,n);return e.apply(void 0,n),a}}}function Ut(e,r,t,n){var a=typeof r=="function",u=r===Object(r);if(u&&(n=t,t=r,r=void 0),t==null)throw new TypeError;n||(n={});var i={cap:"cap"in n?n.cap:!0,curry:"curry"in n?n.curry:!0,fixed:"fixed"in n?n.fixed:!0,immutable:"immutable"in n?n.immutable:!0,rearg:"rearg"in n?n.rearg:!0},s=a?t:$o,l="curry"in n&&n.curry,v="fixed"in n&&n.fixed,h="rearg"in n&&n.rearg,d=a?t.runInContext():void 0,f=a?t:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},o=f.ary,D=f.assign,m=f.clone,B=f.curry,y=f.forEach,x=f.isArray,I=f.isError,R=f.isFunction,k=f.isWeakMap,$=f.keys,H=f.rearg,g=f.toInteger,A=f.toPath,F=$(pe.aryMethod),S={castArray:function(N){return function(){var _=arguments[0];return x(_)?N(ha(_)):N.apply(void 0,arguments)}},iteratee:function(N){return function(){var _=arguments[0],T=arguments[1],W=N(_,T),z=W.length;return i.cap&&typeof T=="number"?(T=T>2?T-2:1,z&&z<=T?W:yt(W,T)):W}},mixin:function(N){return function(_){var T=this;if(!R(T))return N(T,Object(_));var W=[];return y($(_),function(z){R(_[z])&&W.push([z,T.prototype[z]])}),N(T,Object(_)),y(W,function(z){var se=z[1];R(se)?T.prototype[z[0]]=se:delete T.prototype[z[0]]}),T}},nthArg:function(N){return function(_){var T=_<0?1:g(_)+1;return B(N(_),T)}},rearg:function(N){return function(_,T){var W=T?T.length:0;return B(N(_,T),W)}},runInContext:function(N){return function(_){return Ut(e,N(_),n)}}};function j(N,_){if(i.cap){var T=pe.iterateeRearg[N];if(T)return he(_,T);var W=!a&&pe.iterateeAry[N];if(W)return ee(_,W)}return _}function M(N,_,T){return l||i.curry&&T>1?B(_,T):_}function q(N,_,T){if(i.fixed&&(v||!pe.skipFixed[N])){var W=pe.methodSpread[N],z=W&&W.start;return z===void 0?o(_,T):So(_,z)}return _}function K(N,_,T){return i.rearg&&T>1&&(h||!pe.skipRearg[N])?H(_,pe.methodRearg[N]||pe.aryRearg[T]):_}function V(N,_){_=A(_);for(var T=-1,W=_.length,z=W-1,se=m(Object(N)),ge=se;ge!=null&&++T<W;){var de=_[T],oe=ge[de];oe!=null&&!(R(oe)||I(oe)||k(oe))&&(ge[de]=m(T==z?oe:Object(oe))),ge=ge[de]}return se}function Y(N){return G.runInContext.convert(N)(void 0)}function Q(N,_){var T=pe.aliasToReal[N]||N,W=pe.remap[T]||T,z=n;return function(se){var ge=a?d:f,de=a?d[W]:_,oe=D(D({},z),se);return Ut(ge,T,de,oe)}}function ee(N,_){return ve(N,function(T){return typeof T=="function"?yt(T,_):T})}function he(N,_){return ve(N,function(T){var W=_.length;return _o(H(yt(T,W),_),W)})}function ve(N,_){return function(){var T=arguments.length;if(!T)return N();for(var W=Array(T);T--;)W[T]=arguments[T];var z=i.rearg?0:T-1;return W[z]=_(W[z]),N.apply(void 0,W)}}function ce(N,_,T){var W,z=pe.aliasToReal[N]||N,se=_,ge=S[z];return ge?se=ge(_):i.immutable&&(pe.mutate.array[z]?se=Et(_,ha):pe.mutate.object[z]?se=Et(_,Po(_)):pe.mutate.set[z]&&(se=Et(_,V))),y(F,function(de){return y(pe.aryMethod[de],function(oe){if(z==oe){var Ne=pe.methodSpread[z],Ct=Ne&&Ne.afterRearg;return W=Ct?q(z,K(z,se,de),de):K(z,q(z,se,de),de),W=j(z,W),W=M(z,W,de),!1}}),!W}),W||(W=se),W==_&&(W=l?B(W,1):function(){return _.apply(this,arguments)}),W.convert=Q(z,_),W.placeholder=_.placeholder=T,W}if(!u)return ce(r,t,s);var G=t,te=[];return y(F,function(N){y(pe.aryMethod[N],function(_){var T=G[pe.remap[_]||_];T&&te.push([_,ce(_,T,G)])})}),y($(G),function(N){var _=G[N];if(typeof _=="function"){for(var T=te.length;T--;)if(te[T][0]==N)return;_.convert=Q(N,_),te.push([N,_])}}),y(te,function(N){G[N[0]]=N[1]}),G.convert=Y,G.placeholder=G,y($(G),function(N){y(pe.realToAlias[N]||[],function(_){G[_]=G[N]})}),G}var To=Ut;function Ro(e){return e}var cn=Ro,Io=typeof Ir=="object"&&Ir&&Ir.Object===Object&&Ir,wi=Io,Mo=wi,No=typeof self=="object"&&self&&self.Object===Object&&self,ko=Mo||No||Function("return this")(),Ae=ko,Lo=Ae,jo=Lo.Symbol,or=jo,ga=or,xi=Object.prototype,Wo=xi.hasOwnProperty,Ho=xi.toString,pr=ga?ga.toStringTag:void 0;function zo(e){var r=Wo.call(e,pr),t=e[pr];try{e[pr]=void 0;var n=!0}catch{}var a=Ho.call(e);return n&&(r?e[pr]=t:delete e[pr]),a}var Go=zo,Uo=Object.prototype,Ko=Uo.toString;function qo(e){return Ko.call(e)}var Vo=qo,pa=or,Yo=Go,Xo=Vo,Zo="[object Null]",Jo="[object Undefined]",Da=pa?pa.toStringTag:void 0;function Qo(e){return e==null?e===void 0?Jo:Zo:Da&&Da in Object(e)?Yo(e):Xo(e)}var Qe=Qo;function el(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var _e=el,rl=Qe,tl=_e,nl="[object AsyncFunction]",al="[object Function]",ul="[object GeneratorFunction]",il="[object Proxy]";function sl(e){if(!tl(e))return!1;var r=rl(e);return r==al||r==ul||r==nl||r==il}var vn=sl,ol=Ae,ll=ol["__core-js_shared__"],fl=ll,Ft=fl,Ca=function(){var e=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cl(e){return!!Ca&&Ca in e}var vl=cl,dl=Function.prototype,hl=dl.toString;function gl(e){if(e!=null){try{return hl.call(e)}catch{}try{return e+""}catch{}}return""}var Oi=gl,pl=vn,Dl=vl,Cl=_e,ml=Oi,Al=/[\\^$.*+?()[\]{}|]/g,Bl=/^\[object .+?Constructor\]$/,yl=Function.prototype,El=Object.prototype,Fl=yl.toString,bl=El.hasOwnProperty,wl=RegExp("^"+Fl.call(bl).replace(Al,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xl(e){if(!Cl(e)||Dl(e))return!1;var r=pl(e)?wl:Bl;return r.test(ml(e))}var Ol=xl;function $l(e,r){return e==null?void 0:e[r]}var _l=$l,Pl=Ol,Sl=_l;function Tl(e,r){var t=Sl(e,r);return Pl(t)?t:void 0}var er=Tl,Rl=er,Il=Ae,Ml=Rl(Il,"WeakMap"),$i=Ml,ma=$i,Nl=ma&&new ma,_i=Nl,kl=cn,Aa=_i,Ll=Aa?function(e,r){return Aa.set(e,r),e}:kl,Pi=Ll,jl=_e,Ba=Object.create,Wl=function(){function e(){}return function(r){if(!jl(r))return{};if(Ba)return Ba(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),rt=Wl,Hl=rt,zl=_e;function Gl(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=Hl(e.prototype),n=e.apply(t,r);return zl(n)?n:t}}var tt=Gl,Ul=tt,Kl=Ae,ql=1;function Vl(e,r,t){var n=r&ql,a=Ul(e);function u(){var i=this&&this!==Kl&&this instanceof u?a:e;return i.apply(n?t:this,arguments)}return u}var Yl=Vl;function Xl(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var dn=Xl,Zl=Math.max;function Jl(e,r,t,n){for(var a=-1,u=e.length,i=t.length,s=-1,l=r.length,v=Zl(u-i,0),h=Array(l+v),d=!n;++s<l;)h[s]=r[s];for(;++a<i;)(d||a<u)&&(h[t[a]]=e[a]);for(;v--;)h[s++]=e[a++];return h}var Si=Jl,Ql=Math.max;function ef(e,r,t,n){for(var a=-1,u=e.length,i=-1,s=t.length,l=-1,v=r.length,h=Ql(u-s,0),d=Array(h+v),f=!n;++a<h;)d[a]=e[a];for(var o=a;++l<v;)d[o+l]=r[l];for(;++i<s;)(f||a<u)&&(d[o+t[i]]=e[a++]);return d}var Ti=ef;function rf(e,r){for(var t=e.length,n=0;t--;)e[t]===r&&++n;return n}var tf=rf;function nf(){}var hn=nf,af=rt,uf=hn,sf=4294967295;function Ur(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sf,this.__views__=[]}Ur.prototype=af(uf.prototype);Ur.prototype.constructor=Ur;var gn=Ur;function of(){}var lf=of,ya=_i,ff=lf,cf=ya?function(e){return ya.get(e)}:ff,pn=cf,vf={},df=vf,Ea=df,hf=Object.prototype,gf=hf.hasOwnProperty;function pf(e){for(var r=e.name+"",t=Ea[r],n=gf.call(Ea,r)?t.length:0;n--;){var a=t[n],u=a.func;if(u==null||u==e)return a.name}return r}var Ri=pf,Df=rt,Cf=hn;function Kr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}Kr.prototype=Df(Cf.prototype);Kr.prototype.constructor=Kr;var Dn=Kr,mf=Array.isArray,Be=mf;function Af(e){return e!=null&&typeof e=="object"}var Oe=Af;function Bf(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var nt=Bf,yf=gn,Ef=Dn,Ff=nt;function bf(e){if(e instanceof yf)return e.clone();var r=new Ef(e.__wrapped__,e.__chain__);return r.__actions__=Ff(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var wf=bf,xf=gn,Fa=Dn,Of=hn,$f=Be,_f=Oe,Pf=wf,Sf=Object.prototype,Tf=Sf.hasOwnProperty;function qr(e){if(_f(e)&&!$f(e)&&!(e instanceof xf)){if(e instanceof Fa)return e;if(Tf.call(e,"__wrapped__"))return Pf(e)}return new Fa(e)}qr.prototype=Of.prototype;qr.prototype.constructor=qr;var Rf=qr,If=gn,Mf=pn,Nf=Ri,kf=Rf;function Lf(e){var r=Nf(e),t=kf[r];if(typeof t!="function"||!(r in If.prototype))return!1;if(e===t)return!0;var n=Mf(t);return!!n&&e===n[0]}var Ii=Lf,jf=800,Wf=16,Hf=Date.now;function zf(e){var r=0,t=0;return function(){var n=Hf(),a=Wf-(n-t);if(t=n,a>0){if(++r>=jf)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Mi=zf,Gf=Pi,Uf=Mi,Kf=Uf(Gf),Ni=Kf,qf=/\{\n\/\* \[wrapped with (.+)\] \*/,Vf=/,? & /;function Yf(e){var r=e.match(qf);return r?r[1].split(Vf):[]}var Xf=Yf,Zf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Jf(e,r){var t=r.length;if(!t)return e;var n=t-1;return r[n]=(t>1?"& ":"")+r[n],r=r.join(t>2?", ":" "),e.replace(Zf,`{
/* [wrapped with `+r+`] */
`)}var Qf=Jf;function ec(e){return function(){return e}}var rc=ec,tc=er,nc=function(){try{var e=tc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ki=nc,ac=rc,ba=ki,uc=cn,ic=ba?function(e,r){return ba(e,"toString",{configurable:!0,enumerable:!1,value:ac(r),writable:!0})}:uc,sc=ic,oc=sc,lc=Mi,fc=lc(oc),Li=fc;function cc(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Cn=cc;function vc(e,r,t,n){for(var a=e.length,u=t+(n?1:-1);n?u--:++u<a;)if(r(e[u],u,e))return u;return-1}var dc=vc;function hc(e){return e!==e}var gc=hc;function pc(e,r,t){for(var n=t-1,a=e.length;++n<a;)if(e[n]===r)return n;return-1}var Dc=pc,Cc=dc,mc=gc,Ac=Dc;function Bc(e,r,t){return r===r?Ac(e,r,t):Cc(e,mc,t)}var yc=Bc,Ec=yc;function Fc(e,r){var t=e==null?0:e.length;return!!t&&Ec(e,r,0)>-1}var bc=Fc,wc=Cn,xc=bc,Oc=1,$c=2,_c=8,Pc=16,Sc=32,Tc=64,Rc=128,Ic=256,Mc=512,Nc=[["ary",Rc],["bind",Oc],["bindKey",$c],["curry",_c],["curryRight",Pc],["flip",Mc],["partial",Sc],["partialRight",Tc],["rearg",Ic]];function kc(e,r){return wc(Nc,function(t){var n="_."+t[0];r&t[1]&&!xc(e,n)&&e.push(n)}),e.sort()}var Lc=kc,jc=Xf,Wc=Qf,Hc=Li,zc=Lc;function Gc(e,r,t){var n=r+"";return Hc(e,Wc(n,zc(jc(n),t)))}var ji=Gc,Uc=Ii,Kc=Ni,qc=ji,Vc=1,Yc=2,Xc=4,Zc=8,wa=32,xa=64;function Jc(e,r,t,n,a,u,i,s,l,v){var h=r&Zc,d=h?i:void 0,f=h?void 0:i,o=h?u:void 0,D=h?void 0:u;r|=h?wa:xa,r&=~(h?xa:wa),r&Xc||(r&=~(Vc|Yc));var m=[e,r,a,o,d,D,f,s,l,v],B=t.apply(void 0,m);return Uc(e)&&Kc(B,m),B.placeholder=n,qc(B,e,r)}var Wi=Jc;function Qc(e){var r=e;return r.placeholder}var Hi=Qc,ev=9007199254740991,rv=/^(?:0|[1-9]\d*)$/;function tv(e,r){var t=typeof e;return r=r==null?ev:r,!!r&&(t=="number"||t!="symbol"&&rv.test(e))&&e>-1&&e%1==0&&e<r}var mn=tv,nv=nt,av=mn,uv=Math.min;function iv(e,r){for(var t=e.length,n=uv(r.length,t),a=nv(e);n--;){var u=r[n];e[n]=av(u,t)?a[u]:void 0}return e}var sv=iv,Oa="__lodash_placeholder__";function ov(e,r){for(var t=-1,n=e.length,a=0,u=[];++t<n;){var i=e[t];(i===r||i===Oa)&&(e[t]=Oa,u[a++]=t)}return u}var An=ov,lv=Si,fv=Ti,cv=tf,$a=tt,vv=Wi,dv=Hi,hv=sv,gv=An,pv=Ae,Dv=1,Cv=2,mv=8,Av=16,Bv=128,yv=512;function zi(e,r,t,n,a,u,i,s,l,v){var h=r&Bv,d=r&Dv,f=r&Cv,o=r&(mv|Av),D=r&yv,m=f?void 0:$a(e);function B(){for(var y=arguments.length,x=Array(y),I=y;I--;)x[I]=arguments[I];if(o)var R=dv(B),k=cv(x,R);if(n&&(x=lv(x,n,a,o)),u&&(x=fv(x,u,i,o)),y-=k,o&&y<v){var $=gv(x,R);return vv(e,r,zi,B.placeholder,t,x,$,s,l,v-y)}var H=d?t:this,g=f?H[e]:e;return y=x.length,s?x=hv(x,s):D&&y>1&&x.reverse(),h&&l<y&&(x.length=l),this&&this!==pv&&this instanceof B&&(g=m||$a(g)),g.apply(H,x)}return B}var Gi=zi,Ev=dn,Fv=tt,bv=Gi,wv=Wi,xv=Hi,Ov=An,$v=Ae;function _v(e,r,t){var n=Fv(e);function a(){for(var u=arguments.length,i=Array(u),s=u,l=xv(a);s--;)i[s]=arguments[s];var v=u<3&&i[0]!==l&&i[u-1]!==l?[]:Ov(i,l);if(u-=v.length,u<t)return wv(e,r,bv,a.placeholder,void 0,i,v,void 0,void 0,t-u);var h=this&&this!==$v&&this instanceof a?n:e;return Ev(h,this,i)}return a}var Pv=_v,Sv=dn,Tv=tt,Rv=Ae,Iv=1;function Mv(e,r,t,n){var a=r&Iv,u=Tv(e);function i(){for(var s=-1,l=arguments.length,v=-1,h=n.length,d=Array(h+l),f=this&&this!==Rv&&this instanceof i?u:e;++v<h;)d[v]=n[v];for(;l--;)d[v++]=arguments[++s];return Sv(f,a?t:this,d)}return i}var Nv=Mv,kv=Si,Lv=Ti,_a=An,Pa="__lodash_placeholder__",bt=1,jv=2,Wv=4,Sa=8,Dr=128,Ta=256,Hv=Math.min;function zv(e,r){var t=e[1],n=r[1],a=t|n,u=a<(bt|jv|Dr),i=n==Dr&&t==Sa||n==Dr&&t==Ta&&e[7].length<=r[8]||n==(Dr|Ta)&&r[7].length<=r[8]&&t==Sa;if(!(u||i))return e;n&bt&&(e[2]=r[2],a|=t&bt?0:Wv);var s=r[3];if(s){var l=e[3];e[3]=l?kv(l,s,r[4]):s,e[4]=l?_a(e[3],Pa):r[4]}return s=r[5],s&&(l=e[5],e[5]=l?Lv(l,s,r[6]):s,e[6]=l?_a(e[5],Pa):r[6]),s=r[7],s&&(e[7]=s),n&Dr&&(e[8]=e[8]==null?r[8]:Hv(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=a,e}var Gv=zv,Uv=/\s/;function Kv(e){for(var r=e.length;r--&&Uv.test(e.charAt(r)););return r}var qv=Kv,Vv=qv,Yv=/^\s+/;function Xv(e){return e&&e.slice(0,Vv(e)+1).replace(Yv,"")}var Zv=Xv,Jv=Qe,Qv=Oe,ed="[object Symbol]";function rd(e){return typeof e=="symbol"||Qv(e)&&Jv(e)==ed}var Pr=rd,td=Zv,Ra=_e,nd=Pr,Ia=0/0,ad=/^[-+]0x[0-9a-f]+$/i,ud=/^0b[01]+$/i,id=/^0o[0-7]+$/i,sd=parseInt;function od(e){if(typeof e=="number")return e;if(nd(e))return Ia;if(Ra(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ra(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=td(e);var t=ud.test(e);return t||id.test(e)?sd(e.slice(2),t?2:8):ad.test(e)?Ia:+e}var Ui=od,ld=Ui,Ma=1/0,fd=17976931348623157e292;function cd(e){if(!e)return e===0?e:0;if(e=ld(e),e===Ma||e===-Ma){var r=e<0?-1:1;return r*fd}return e===e?e:0}var vd=cd,dd=vd;function hd(e){var r=dd(e),t=r%1;return r===r?t?r-t:r:0}var Ki=hd,gd=Pi,pd=Yl,Dd=Pv,Cd=Gi,md=Nv,Ad=pn,Bd=Gv,yd=Ni,Ed=ji,Na=Ki,Fd="Expected a function",ka=1,bd=2,wt=8,xt=16,Ot=32,La=64,ja=Math.max;function wd(e,r,t,n,a,u,i,s){var l=r&bd;if(!l&&typeof e!="function")throw new TypeError(Fd);var v=n?n.length:0;if(v||(r&=~(Ot|La),n=a=void 0),i=i===void 0?i:ja(Na(i),0),s=s===void 0?s:Na(s),v-=a?a.length:0,r&La){var h=n,d=a;n=a=void 0}var f=l?void 0:Ad(e),o=[e,r,t,n,a,h,d,u,i,s];if(f&&Bd(o,f),e=o[0],r=o[1],t=o[2],n=o[3],a=o[4],s=o[9]=o[9]===void 0?l?0:e.length:ja(o[9]-v,0),!s&&r&(wt|xt)&&(r&=~(wt|xt)),!r||r==ka)var D=pd(e,r,t);else r==wt||r==xt?D=Dd(e,r,s):(r==Ot||r==(ka|Ot))&&!a.length?D=md(e,r,t,n):D=Cd.apply(void 0,o);var m=f?gd:yd;return Ed(m(D,o),e,r)}var Bn=wd,xd=Bn,Od=128;function $d(e,r,t){return r=t?void 0:r,r=e&&r==null?e.length:r,xd(e,Od,void 0,void 0,void 0,void 0,r)}var _d=$d,Wa=ki;function Pd(e,r,t){r=="__proto__"&&Wa?Wa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var qi=Pd;function Sd(e,r){return e===r||e!==e&&r!==r}var yn=Sd,Td=qi,Rd=yn,Id=Object.prototype,Md=Id.hasOwnProperty;function Nd(e,r,t){var n=e[r];(!(Md.call(e,r)&&Rd(n,t))||t===void 0&&!(r in e))&&Td(e,r,t)}var Vi=Nd,kd=Vi,Ld=qi;function jd(e,r,t,n){var a=!t;t||(t={});for(var u=-1,i=r.length;++u<i;){var s=r[u],l=n?n(t[s],e[s],s,t,e):void 0;l===void 0&&(l=e[s]),a?Ld(t,s,l):kd(t,s,l)}return t}var at=jd;function Wd(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Hd=Wd,zd=Qe,Gd=Oe,Ud="[object Arguments]";function Kd(e){return Gd(e)&&zd(e)==Ud}var qd=Kd,Ha=qd,Vd=Oe,Yi=Object.prototype,Yd=Yi.hasOwnProperty,Xd=Yi.propertyIsEnumerable,Zd=Ha(function(){return arguments}())?Ha:function(e){return Vd(e)&&Yd.call(e,"callee")&&!Xd.call(e,"callee")},En=Zd,Er={exports:{}};function Jd(){return!1}var Qd=Jd;(function(e,r){var t=Ae,n=Qd,a=r&&!r.nodeType&&r,u=a&&!0&&e&&!e.nodeType&&e,i=u&&u.exports===a,s=i?t.Buffer:void 0,l=s?s.isBuffer:void 0,v=l||n;e.exports=v})(Er,Er.exports);var eh=9007199254740991;function rh(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eh}var Fn=rh,th=Qe,nh=Fn,ah=Oe,uh="[object Arguments]",ih="[object Array]",sh="[object Boolean]",oh="[object Date]",lh="[object Error]",fh="[object Function]",ch="[object Map]",vh="[object Number]",dh="[object Object]",hh="[object RegExp]",gh="[object Set]",ph="[object String]",Dh="[object WeakMap]",Ch="[object ArrayBuffer]",mh="[object DataView]",Ah="[object Float32Array]",Bh="[object Float64Array]",yh="[object Int8Array]",Eh="[object Int16Array]",Fh="[object Int32Array]",bh="[object Uint8Array]",wh="[object Uint8ClampedArray]",xh="[object Uint16Array]",Oh="[object Uint32Array]",ne={};ne[Ah]=ne[Bh]=ne[yh]=ne[Eh]=ne[Fh]=ne[bh]=ne[wh]=ne[xh]=ne[Oh]=!0;ne[uh]=ne[ih]=ne[Ch]=ne[sh]=ne[mh]=ne[oh]=ne[lh]=ne[fh]=ne[ch]=ne[vh]=ne[dh]=ne[hh]=ne[gh]=ne[ph]=ne[Dh]=!1;function $h(e){return ah(e)&&nh(e.length)&&!!ne[th(e)]}var _h=$h;function Ph(e){return function(r){return e(r)}}var bn=Ph,Fr={exports:{}};(function(e,r){var t=wi,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,i=u&&t.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Fr,Fr.exports);var Sh=_h,Th=bn,za=Fr.exports,Ga=za&&za.isTypedArray,Rh=Ga?Th(Ga):Sh,Xi=Rh,Ih=Hd,Mh=En,Nh=Be,kh=Er.exports,Lh=mn,jh=Xi,Wh=Object.prototype,Hh=Wh.hasOwnProperty;function zh(e,r){var t=Nh(e),n=!t&&Mh(e),a=!t&&!n&&kh(e),u=!t&&!n&&!a&&jh(e),i=t||n||a||u,s=i?Ih(e.length,String):[],l=s.length;for(var v in e)(r||Hh.call(e,v))&&!(i&&(v=="length"||a&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Lh(v,l)))&&s.push(v);return s}var Zi=zh,Gh=Object.prototype;function Uh(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Gh;return e===t}var wn=Uh;function Kh(e,r){return function(t){return e(r(t))}}var Ji=Kh,qh=Ji,Vh=qh(Object.keys,Object),Yh=Vh,Xh=wn,Zh=Yh,Jh=Object.prototype,Qh=Jh.hasOwnProperty;function e0(e){if(!Xh(e))return Zh(e);var r=[];for(var t in Object(e))Qh.call(e,t)&&t!="constructor"&&r.push(t);return r}var Qi=e0,r0=vn,t0=Fn;function n0(e){return e!=null&&t0(e.length)&&!r0(e)}var es=n0,a0=Zi,u0=Qi,i0=es;function s0(e){return i0(e)?a0(e):u0(e)}var ut=s0,o0=at,l0=ut;function f0(e,r){return e&&o0(r,l0(r),e)}var rs=f0;function c0(){this.__data__=[],this.size=0}var v0=c0,d0=yn;function h0(e,r){for(var t=e.length;t--;)if(d0(e[t][0],r))return t;return-1}var it=h0,g0=it,p0=Array.prototype,D0=p0.splice;function C0(e){var r=this.__data__,t=g0(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():D0.call(r,t,1),--this.size,!0}var m0=C0,A0=it;function B0(e){var r=this.__data__,t=A0(r,e);return t<0?void 0:r[t][1]}var y0=B0,E0=it;function F0(e){return E0(this.__data__,e)>-1}var b0=F0,w0=it;function x0(e,r){var t=this.__data__,n=w0(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var O0=x0,$0=v0,_0=m0,P0=y0,S0=b0,T0=O0;function lr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}lr.prototype.clear=$0;lr.prototype.delete=_0;lr.prototype.get=P0;lr.prototype.has=S0;lr.prototype.set=T0;var st=lr,R0=st;function I0(){this.__data__=new R0,this.size=0}var M0=I0;function N0(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var k0=N0;function L0(e){return this.__data__.get(e)}var j0=L0;function W0(e){return this.__data__.has(e)}var H0=W0,z0=er,G0=Ae,U0=z0(G0,"Map"),xn=U0,K0=er,q0=K0(Object,"create"),ot=q0,Ua=ot;function V0(){this.__data__=Ua?Ua(null):{},this.size=0}var Y0=V0;function X0(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Z0=X0,J0=ot,Q0="__lodash_hash_undefined__",eg=Object.prototype,rg=eg.hasOwnProperty;function tg(e){var r=this.__data__;if(J0){var t=r[e];return t===Q0?void 0:t}return rg.call(r,e)?r[e]:void 0}var ng=tg,ag=ot,ug=Object.prototype,ig=ug.hasOwnProperty;function sg(e){var r=this.__data__;return ag?r[e]!==void 0:ig.call(r,e)}var og=sg,lg=ot,fg="__lodash_hash_undefined__";function cg(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=lg&&r===void 0?fg:r,this}var vg=cg,dg=Y0,hg=Z0,gg=ng,pg=og,Dg=vg;function fr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}fr.prototype.clear=dg;fr.prototype.delete=hg;fr.prototype.get=gg;fr.prototype.has=pg;fr.prototype.set=Dg;var Cg=fr,Ka=Cg,mg=st,Ag=xn;function Bg(){this.size=0,this.__data__={hash:new Ka,map:new(Ag||mg),string:new Ka}}var yg=Bg;function Eg(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Fg=Eg,bg=Fg;function wg(e,r){var t=e.__data__;return bg(r)?t[typeof r=="string"?"string":"hash"]:t.map}var lt=wg,xg=lt;function Og(e){var r=xg(this,e).delete(e);return this.size-=r?1:0,r}var $g=Og,_g=lt;function Pg(e){return _g(this,e).get(e)}var Sg=Pg,Tg=lt;function Rg(e){return Tg(this,e).has(e)}var Ig=Rg,Mg=lt;function Ng(e,r){var t=Mg(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var kg=Ng,Lg=yg,jg=$g,Wg=Sg,Hg=Ig,zg=kg;function cr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}cr.prototype.clear=Lg;cr.prototype.delete=jg;cr.prototype.get=Wg;cr.prototype.has=Hg;cr.prototype.set=zg;var On=cr,Gg=st,Ug=xn,Kg=On,qg=200;function Vg(e,r){var t=this.__data__;if(t instanceof Gg){var n=t.__data__;if(!Ug||n.length<qg-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kg(n)}return t.set(e,r),this.size=t.size,this}var Yg=Vg,Xg=st,Zg=M0,Jg=k0,Qg=j0,e1=H0,r1=Yg;function vr(e){var r=this.__data__=new Xg(e);this.size=r.size}vr.prototype.clear=Zg;vr.prototype.delete=Jg;vr.prototype.get=Qg;vr.prototype.has=e1;vr.prototype.set=r1;var $n=vr;function t1(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var n1=t1,a1=_e,u1=wn,i1=n1,s1=Object.prototype,o1=s1.hasOwnProperty;function l1(e){if(!a1(e))return i1(e);var r=u1(e),t=[];for(var n in e)n=="constructor"&&(r||!o1.call(e,n))||t.push(n);return t}var f1=l1,c1=Zi,v1=f1,d1=es;function h1(e){return d1(e)?c1(e,!0):v1(e)}var _n=h1,g1=at,p1=_n;function D1(e,r){return e&&g1(r,p1(r),e)}var C1=D1,Kt={exports:{}};(function(e,r){var t=Ae,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,i=u?t.Buffer:void 0,s=i?i.allocUnsafe:void 0;function l(v,h){if(h)return v.slice();var d=v.length,f=s?s(d):new v.constructor(d);return v.copy(f),f}e.exports=l})(Kt,Kt.exports);function m1(e,r){for(var t=-1,n=e==null?0:e.length,a=0,u=[];++t<n;){var i=e[t];r(i,t,e)&&(u[a++]=i)}return u}var A1=m1;function B1(){return[]}var ts=B1,y1=A1,E1=ts,F1=Object.prototype,b1=F1.propertyIsEnumerable,qa=Object.getOwnPropertySymbols,w1=qa?function(e){return e==null?[]:(e=Object(e),y1(qa(e),function(r){return b1.call(e,r)}))}:E1,Pn=w1,x1=at,O1=Pn;function $1(e,r){return x1(e,O1(e),r)}var _1=$1;function P1(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var Sn=P1,S1=Ji,T1=S1(Object.getPrototypeOf,Object),Tn=T1,R1=Sn,I1=Tn,M1=Pn,N1=ts,k1=Object.getOwnPropertySymbols,L1=k1?function(e){for(var r=[];e;)R1(r,M1(e)),e=I1(e);return r}:N1,ns=L1,j1=at,W1=ns;function H1(e,r){return j1(e,W1(e),r)}var z1=H1,G1=Sn,U1=Be;function K1(e,r,t){var n=r(e);return U1(e)?n:G1(n,t(e))}var as=K1,q1=as,V1=Pn,Y1=ut;function X1(e){return q1(e,Y1,V1)}var us=X1,Z1=as,J1=ns,Q1=_n;function ep(e){return Z1(e,Q1,J1)}var rp=ep,tp=er,np=Ae,ap=tp(np,"DataView"),up=ap,ip=er,sp=Ae,op=ip(sp,"Promise"),lp=op,fp=er,cp=Ae,vp=fp(cp,"Set"),dp=vp,qt=up,Vt=xn,Yt=lp,Xt=dp,Zt=$i,is=Qe,dr=Oi,Va="[object Map]",hp="[object Object]",Ya="[object Promise]",Xa="[object Set]",Za="[object WeakMap]",Ja="[object DataView]",gp=dr(qt),pp=dr(Vt),Dp=dr(Yt),Cp=dr(Xt),mp=dr(Zt),Ke=is;(qt&&Ke(new qt(new ArrayBuffer(1)))!=Ja||Vt&&Ke(new Vt)!=Va||Yt&&Ke(Yt.resolve())!=Ya||Xt&&Ke(new Xt)!=Xa||Zt&&Ke(new Zt)!=Za)&&(Ke=function(e){var r=is(e),t=r==hp?e.constructor:void 0,n=t?dr(t):"";if(n)switch(n){case gp:return Ja;case pp:return Va;case Dp:return Ya;case Cp:return Xa;case mp:return Za}return r});var Sr=Ke,Ap=Object.prototype,Bp=Ap.hasOwnProperty;function yp(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&Bp.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Ep=yp,Fp=Ae,bp=Fp.Uint8Array,ss=bp,Qa=ss;function wp(e){var r=new e.constructor(e.byteLength);return new Qa(r).set(new Qa(e)),r}var Rn=wp,xp=Rn;function Op(e,r){var t=r?xp(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var $p=Op,_p=/\w*$/;function Pp(e){var r=new e.constructor(e.source,_p.exec(e));return r.lastIndex=e.lastIndex,r}var Sp=Pp,eu=or,ru=eu?eu.prototype:void 0,tu=ru?ru.valueOf:void 0;function Tp(e){return tu?Object(tu.call(e)):{}}var Rp=Tp,Ip=Rn;function Mp(e,r){var t=r?Ip(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Np=Mp,kp=Rn,Lp=$p,jp=Sp,Wp=Rp,Hp=Np,zp="[object Boolean]",Gp="[object Date]",Up="[object Map]",Kp="[object Number]",qp="[object RegExp]",Vp="[object Set]",Yp="[object String]",Xp="[object Symbol]",Zp="[object ArrayBuffer]",Jp="[object DataView]",Qp="[object Float32Array]",eD="[object Float64Array]",rD="[object Int8Array]",tD="[object Int16Array]",nD="[object Int32Array]",aD="[object Uint8Array]",uD="[object Uint8ClampedArray]",iD="[object Uint16Array]",sD="[object Uint32Array]";function oD(e,r,t){var n=e.constructor;switch(r){case Zp:return kp(e);case zp:case Gp:return new n(+e);case Jp:return Lp(e,t);case Qp:case eD:case rD:case tD:case nD:case aD:case uD:case iD:case sD:return Hp(e,t);case Up:return new n;case Kp:case Yp:return new n(e);case qp:return jp(e);case Vp:return new n;case Xp:return Wp(e)}}var lD=oD,fD=rt,cD=Tn,vD=wn;function dD(e){return typeof e.constructor=="function"&&!vD(e)?fD(cD(e)):{}}var hD=dD,gD=Sr,pD=Oe,DD="[object Map]";function CD(e){return pD(e)&&gD(e)==DD}var mD=CD,AD=mD,BD=bn,nu=Fr.exports,au=nu&&nu.isMap,yD=au?BD(au):AD,ED=yD,FD=Sr,bD=Oe,wD="[object Set]";function xD(e){return bD(e)&&FD(e)==wD}var OD=xD,$D=OD,_D=bn,uu=Fr.exports,iu=uu&&uu.isSet,PD=iu?_D(iu):$D,SD=PD,TD=$n,RD=Cn,ID=Vi,MD=rs,ND=C1,kD=Kt.exports,LD=nt,jD=_1,WD=z1,HD=us,zD=rp,GD=Sr,UD=Ep,KD=lD,qD=hD,VD=Be,YD=Er.exports,XD=ED,ZD=_e,JD=SD,QD=ut,eC=_n,rC=1,tC=2,nC=4,os="[object Arguments]",aC="[object Array]",uC="[object Boolean]",iC="[object Date]",sC="[object Error]",ls="[object Function]",oC="[object GeneratorFunction]",lC="[object Map]",fC="[object Number]",fs="[object Object]",cC="[object RegExp]",vC="[object Set]",dC="[object String]",hC="[object Symbol]",gC="[object WeakMap]",pC="[object ArrayBuffer]",DC="[object DataView]",CC="[object Float32Array]",mC="[object Float64Array]",AC="[object Int8Array]",BC="[object Int16Array]",yC="[object Int32Array]",EC="[object Uint8Array]",FC="[object Uint8ClampedArray]",bC="[object Uint16Array]",wC="[object Uint32Array]",re={};re[os]=re[aC]=re[pC]=re[DC]=re[uC]=re[iC]=re[CC]=re[mC]=re[AC]=re[BC]=re[yC]=re[lC]=re[fC]=re[fs]=re[cC]=re[vC]=re[dC]=re[hC]=re[EC]=re[FC]=re[bC]=re[wC]=!0;re[sC]=re[ls]=re[gC]=!1;function Hr(e,r,t,n,a,u){var i,s=r&rC,l=r&tC,v=r&nC;if(t&&(i=a?t(e,n,a,u):t(e)),i!==void 0)return i;if(!ZD(e))return e;var h=VD(e);if(h){if(i=UD(e),!s)return LD(e,i)}else{var d=GD(e),f=d==ls||d==oC;if(YD(e))return kD(e,s);if(d==fs||d==os||f&&!a){if(i=l||f?{}:qD(e),!s)return l?WD(e,ND(i,e)):jD(e,MD(i,e))}else{if(!re[d])return a?e:{};i=KD(e,d,s)}}u||(u=new TD);var o=u.get(e);if(o)return o;u.set(e,i),JD(e)?e.forEach(function(B){i.add(Hr(B,r,t,B,e,u))}):XD(e)&&e.forEach(function(B,y){i.set(y,Hr(B,r,t,y,e,u))});var D=v?l?zD:HD:l?eC:QD,m=h?void 0:D(e);return RD(m||e,function(B,y){m&&(y=B,B=e[y]),ID(i,y,Hr(B,r,t,y,e,u))}),i}var cs=Hr,xC=cs,OC=4;function $C(e){return xC(e,OC)}var _C=$C,PC=Bn,SC=8;function In(e,r,t){r=t?void 0:r;var n=PC(e,SC,void 0,void 0,void 0,void 0,void 0,r);return n.placeholder=In.placeholder,n}In.placeholder={};var TC=In,RC=Qe,IC=Tn,MC=Oe,NC="[object Object]",kC=Function.prototype,LC=Object.prototype,vs=kC.toString,jC=LC.hasOwnProperty,WC=vs.call(Object);function HC(e){if(!MC(e)||RC(e)!=NC)return!1;var r=IC(e);if(r===null)return!0;var t=jC.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&vs.call(t)==WC}var zC=HC,GC=Qe,UC=Oe,KC=zC,qC="[object DOMException]",VC="[object Error]";function YC(e){if(!UC(e))return!1;var r=GC(e);return r==VC||r==qC||typeof e.message=="string"&&typeof e.name=="string"&&!KC(e)}var XC=YC,ZC=Sr,JC=Oe,QC="[object WeakMap]";function em(e){return JC(e)&&ZC(e)==QC}var rm=em,tm="__lodash_hash_undefined__";function nm(e){return this.__data__.set(e,tm),this}var am=nm;function um(e){return this.__data__.has(e)}var im=um,sm=On,om=am,lm=im;function Vr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new sm;++r<t;)this.add(e[r])}Vr.prototype.add=Vr.prototype.push=om;Vr.prototype.has=lm;var fm=Vr;function cm(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var vm=cm;function dm(e,r){return e.has(r)}var hm=dm,gm=fm,pm=vm,Dm=hm,Cm=1,mm=2;function Am(e,r,t,n,a,u){var i=t&Cm,s=e.length,l=r.length;if(s!=l&&!(i&&l>s))return!1;var v=u.get(e),h=u.get(r);if(v&&h)return v==r&&h==e;var d=-1,f=!0,o=t&mm?new gm:void 0;for(u.set(e,r),u.set(r,e);++d<s;){var D=e[d],m=r[d];if(n)var B=i?n(m,D,d,r,e,u):n(D,m,d,e,r,u);if(B!==void 0){if(B)continue;f=!1;break}if(o){if(!pm(r,function(y,x){if(!Dm(o,x)&&(D===y||a(D,y,t,n,u)))return o.push(x)})){f=!1;break}}else if(!(D===m||a(D,m,t,n,u))){f=!1;break}}return u.delete(e),u.delete(r),f}var ds=Am;function Bm(e){var r=-1,t=Array(e.size);return e.forEach(function(n,a){t[++r]=[a,n]}),t}var ym=Bm;function Em(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var Fm=Em,su=or,ou=ss,bm=yn,wm=ds,xm=ym,Om=Fm,$m=1,_m=2,Pm="[object Boolean]",Sm="[object Date]",Tm="[object Error]",Rm="[object Map]",Im="[object Number]",Mm="[object RegExp]",Nm="[object Set]",km="[object String]",Lm="[object Symbol]",jm="[object ArrayBuffer]",Wm="[object DataView]",lu=su?su.prototype:void 0,$t=lu?lu.valueOf:void 0;function Hm(e,r,t,n,a,u,i){switch(t){case Wm:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case jm:return!(e.byteLength!=r.byteLength||!u(new ou(e),new ou(r)));case Pm:case Sm:case Im:return bm(+e,+r);case Tm:return e.name==r.name&&e.message==r.message;case Mm:case km:return e==r+"";case Rm:var s=xm;case Nm:var l=n&$m;if(s||(s=Om),e.size!=r.size&&!l)return!1;var v=i.get(e);if(v)return v==r;n|=_m,i.set(e,r);var h=wm(s(e),s(r),n,a,u,i);return i.delete(e),h;case Lm:if($t)return $t.call(e)==$t.call(r)}return!1}var zm=Hm,fu=us,Gm=1,Um=Object.prototype,Km=Um.hasOwnProperty;function qm(e,r,t,n,a,u){var i=t&Gm,s=fu(e),l=s.length,v=fu(r),h=v.length;if(l!=h&&!i)return!1;for(var d=l;d--;){var f=s[d];if(!(i?f in r:Km.call(r,f)))return!1}var o=u.get(e),D=u.get(r);if(o&&D)return o==r&&D==e;var m=!0;u.set(e,r),u.set(r,e);for(var B=i;++d<l;){f=s[d];var y=e[f],x=r[f];if(n)var I=i?n(x,y,f,r,e,u):n(y,x,f,e,r,u);if(!(I===void 0?y===x||a(y,x,t,n,u):I)){m=!1;break}B||(B=f=="constructor")}if(m&&!B){var R=e.constructor,k=r.constructor;R!=k&&"constructor"in e&&"constructor"in r&&!(typeof R=="function"&&R instanceof R&&typeof k=="function"&&k instanceof k)&&(m=!1)}return u.delete(e),u.delete(r),m}var Vm=qm,_t=$n,Ym=ds,Xm=zm,Zm=Vm,cu=Sr,vu=Be,du=Er.exports,Jm=Xi,Qm=1,hu="[object Arguments]",gu="[object Array]",Mr="[object Object]",e2=Object.prototype,pu=e2.hasOwnProperty;function r2(e,r,t,n,a,u){var i=vu(e),s=vu(r),l=i?gu:cu(e),v=s?gu:cu(r);l=l==hu?Mr:l,v=v==hu?Mr:v;var h=l==Mr,d=v==Mr,f=l==v;if(f&&du(e)){if(!du(r))return!1;i=!0,h=!1}if(f&&!h)return u||(u=new _t),i||Jm(e)?Ym(e,r,t,n,a,u):Xm(e,r,l,t,n,a,u);if(!(t&Qm)){var o=h&&pu.call(e,"__wrapped__"),D=d&&pu.call(r,"__wrapped__");if(o||D){var m=o?e.value():e,B=D?r.value():r;return u||(u=new _t),a(m,B,t,n,u)}}return f?(u||(u=new _t),Zm(e,r,t,n,a,u)):!1}var t2=r2,n2=t2,Du=Oe;function hs(e,r,t,n,a){return e===r?!0:e==null||r==null||!Du(e)&&!Du(r)?e!==e&&r!==r:n2(e,r,t,n,hs,a)}var gs=hs,a2=$n,u2=gs,i2=1,s2=2;function o2(e,r,t,n){var a=t.length,u=a,i=!n;if(e==null)return!u;for(e=Object(e);a--;){var s=t[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<u;){s=t[a];var l=s[0],v=e[l],h=s[1];if(i&&s[2]){if(v===void 0&&!(l in e))return!1}else{var d=new a2;if(n)var f=n(v,h,l,e,r,d);if(!(f===void 0?u2(h,v,i2|s2,n,d):f))return!1}}return!0}var l2=o2,f2=_e;function c2(e){return e===e&&!f2(e)}var ps=c2,v2=ps,d2=ut;function h2(e){for(var r=d2(e),t=r.length;t--;){var n=r[t],a=e[n];r[t]=[n,a,v2(a)]}return r}var g2=h2;function p2(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Ds=p2,D2=l2,C2=g2,m2=Ds;function A2(e){var r=C2(e);return r.length==1&&r[0][2]?m2(r[0][0],r[0][1]):function(t){return t===e||D2(t,e,r)}}var B2=A2,y2=Be,E2=Pr,F2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b2=/^\w*$/;function w2(e,r){if(y2(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||E2(e)?!0:b2.test(e)||!F2.test(e)||r!=null&&e in Object(r)}var Mn=w2,Cs=On,x2="Expected a function";function Nn(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(x2);var t=function(){var n=arguments,a=r?r.apply(this,n):n[0],u=t.cache;if(u.has(a))return u.get(a);var i=e.apply(this,n);return t.cache=u.set(a,i)||u,i};return t.cache=new(Nn.Cache||Cs),t}Nn.Cache=Cs;var O2=Nn,$2=O2,_2=500;function P2(e){var r=$2(e,function(n){return t.size===_2&&t.clear(),n}),t=r.cache;return r}var S2=P2,T2=S2,R2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I2=/\\(\\)?/g,M2=T2(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(R2,function(t,n,a,u){r.push(a?u.replace(I2,"$1"):n||t)}),r}),ms=M2;function N2(e,r){for(var t=-1,n=e==null?0:e.length,a=Array(n);++t<n;)a[t]=r(e[t],t,e);return a}var As=N2,Cu=or,k2=As,L2=Be,j2=Pr,W2=1/0,mu=Cu?Cu.prototype:void 0,Au=mu?mu.toString:void 0;function Bs(e){if(typeof e=="string")return e;if(L2(e))return k2(e,Bs)+"";if(j2(e))return Au?Au.call(e):"";var r=e+"";return r=="0"&&1/e==-W2?"-0":r}var H2=Bs,z2=H2;function G2(e){return e==null?"":z2(e)}var ys=G2,U2=Be,K2=Mn,q2=ms,V2=ys;function Y2(e,r){return U2(e)?e:K2(e,r)?[e]:q2(V2(e))}var Es=Y2,X2=Pr,Z2=1/0;function J2(e){if(typeof e=="string"||X2(e))return e;var r=e+"";return r=="0"&&1/e==-Z2?"-0":r}var Tr=J2,Q2=Es,eA=Tr;function rA(e,r){r=Q2(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[eA(r[t++])];return t&&t==n?e:void 0}var Fs=rA,tA=Fs;function nA(e,r,t){var n=e==null?void 0:tA(e,r);return n===void 0?t:n}var aA=nA;function uA(e,r){return e!=null&&r in Object(e)}var iA=uA,sA=Es,oA=En,lA=Be,fA=mn,cA=Fn,vA=Tr;function dA(e,r,t){r=sA(r,e);for(var n=-1,a=r.length,u=!1;++n<a;){var i=vA(r[n]);if(!(u=e!=null&&t(e,i)))break;e=e[i]}return u||++n!=a?u:(a=e==null?0:e.length,!!a&&cA(a)&&fA(i,a)&&(lA(e)||oA(e)))}var hA=dA,gA=iA,pA=hA;function DA(e,r){return e!=null&&pA(e,r,gA)}var CA=DA,mA=gs,AA=aA,BA=CA,yA=Mn,EA=ps,FA=Ds,bA=Tr,wA=1,xA=2;function OA(e,r){return yA(e)&&EA(r)?FA(bA(e),r):function(t){var n=AA(t,e);return n===void 0&&n===r?BA(t,e):mA(r,n,wA|xA)}}var $A=OA;function _A(e){return function(r){return r==null?void 0:r[e]}}var PA=_A,SA=Fs;function TA(e){return function(r){return SA(r,e)}}var RA=TA,IA=PA,MA=RA,NA=Mn,kA=Tr;function LA(e){return NA(e)?IA(kA(e)):MA(e)}var jA=LA,WA=B2,HA=$A,zA=cn,GA=Be,UA=jA;function KA(e){return typeof e=="function"?e:e==null?zA:typeof e=="object"?GA(e)?HA(e[0],e[1]):WA(e):UA(e)}var qA=KA,VA=cs,YA=qA,XA=1;function ZA(e){return YA(typeof e=="function"?e:VA(e,XA))}var JA=ZA,Bu=or,QA=En,eB=Be,yu=Bu?Bu.isConcatSpreadable:void 0;function rB(e){return eB(e)||QA(e)||!!(yu&&e&&e[yu])}var tB=rB,nB=Sn,aB=tB;function bs(e,r,t,n,a){var u=-1,i=e.length;for(t||(t=aB),a||(a=[]);++u<i;){var s=e[u];r>0&&t(s)?r>1?bs(s,r-1,t,n,a):nB(a,s):n||(a[a.length]=s)}return a}var uB=bs,iB=uB;function sB(e){var r=e==null?0:e.length;return r?iB(e,1):[]}var oB=sB,lB=dn,Eu=Math.max;function fB(e,r,t){return r=Eu(r===void 0?e.length-1:r,0),function(){for(var n=arguments,a=-1,u=Eu(n.length-r,0),i=Array(u);++a<u;)i[a]=n[r+a];a=-1;for(var s=Array(r+1);++a<r;)s[a]=n[a];return s[r]=t(i),lB(e,this,s)}}var cB=fB,vB=oB,dB=cB,hB=Li;function gB(e){return hB(dB(e,void 0,vB),e+"")}var ws=gB,pB=Bn,DB=ws,CB=256,mB=DB(function(e,r){return pB(e,CB,void 0,void 0,void 0,r)}),AB=mB,BB=As,yB=nt,EB=Be,FB=Pr,bB=ms,wB=Tr,xB=ys;function OB(e){return EB(e)?BB(e,wB):FB(e)?[e]:yB(bB(xB(e)))}var $B=OB,_B={ary:_d,assign:rs,clone:_C,curry:TC,forEach:Cn,isArray:Be,isError:XC,isFunction:vn,isWeakMap:rm,iteratee:JA,keys:Qi,rearg:AB,toInteger:Ki,toPath:$B},PB=To,SB=_B;function TB(e,r,t){return PB(SB,e,r,t)}var RB=TB,Fu=Dn,IB=ws,MB=pn,Pt=Ri,NB=Be,bu=Ii,kB="Expected a function",LB=8,jB=32,WB=128,HB=256;function zB(e){return IB(function(r){var t=r.length,n=t,a=Fu.prototype.thru;for(e&&r.reverse();n--;){var u=r[n];if(typeof u!="function")throw new TypeError(kB);if(a&&!i&&Pt(u)=="wrapper")var i=new Fu([],!0)}for(n=i?n:t;++n<t;){u=r[n];var s=Pt(u),l=s=="wrapper"?MB(u):void 0;l&&bu(l[0])&&l[1]==(WB|LB|jB|HB)&&!l[4].length&&l[9]==1?i=i[Pt(l[0])].apply(i,l[3]):i=u.length==1&&bu(u)?i[s]():i.thru(u)}return function(){var v=arguments,h=v[0];if(i&&v.length==1&&NB(h))return i.plant(h).value();for(var d=0,f=t?r[d].apply(this,v):h;++d<t;)f=r[d].call(this,f);return f}})}var GB=zB,UB=GB,KB=UB(),qB=KB,VB=RB,xs=VB("flow",qB);xs.placeholder=bi;var YB=xs,XB=YB;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function wu(e){return Object.prototype.toString.call(e)==="[object Object]"}function De(e){var r,t;return wu(e)===!1?!1:(r=e.constructor,r===void 0?!0:(t=r.prototype,!(wu(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function be(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Xe(e){return!!e&&!!e[Ee]}function Ze(e){var r;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===ay}(e)||Array.isArray(e)||!!e[Ru]||!!(!((r=e.constructor)===null||r===void 0)&&r[Ru])||kn(e)||Ln(e))}function br(e,r,t){t===void 0&&(t=!1),hr(e)===0?(t?Object.keys:Gn)(e).forEach(function(n){t&&typeof n=="symbol"||r(n,e[n],e)}):e.forEach(function(n,a){return r(a,n,e)})}function hr(e){var r=e[Ee];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:kn(e)?2:Ln(e)?3:0}function Jt(e,r){return hr(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function ZB(e,r){return hr(e)===2?e.get(r):e[r]}function Os(e,r,t){var n=hr(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function JB(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function kn(e){return ty&&e instanceof Map}function Ln(e){return ny&&e instanceof Set}function qe(e){return e.o||e.t}function jn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=uy(e);delete r[Ee];for(var t=Gn(r),n=0;n<t.length;n++){var a=t[n],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),r)}function Wn(e,r){return r===void 0&&(r=!1),Hn(e)||Xe(e)||!Ze(e)||(hr(e)>1&&(e.set=e.add=e.clear=e.delete=QB),Object.freeze(e),r&&br(e,function(t,n){return Wn(n,!0)},!0)),e}function QB(){be(2)}function Hn(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function $e(e){var r=iy[e];return r||be(18,e),r}function xu(){return wr}function St(e,r){r&&($e("Patches"),e.u=[],e.s=[],e.v=r)}function Yr(e){Qt(e),e.p.forEach(ey),e.p=null}function Qt(e){e===wr&&(wr=e.l)}function Ou(e){return wr={p:[],l:wr,h:e,m:!0,_:0}}function ey(e){var r=e[Ee];r.i===0||r.i===1?r.j():r.g=!0}function Tt(e,r){r._=r.p.length;var t=r.p[0],n=e!==void 0&&e!==t;return r.h.O||$e("ES5").S(r,e,n),n?(t[Ee].P&&(Yr(r),be(4)),Ze(e)&&(e=Xr(r,e),r.l||Zr(r,e)),r.u&&$e("Patches").M(t[Ee].t,e,r.u,r.s)):e=Xr(r,t,[]),Yr(r),r.u&&r.v(r.u,r.s),e!==$s?e:void 0}function Xr(e,r,t){if(Hn(r))return r;var n=r[Ee];if(!n)return br(r,function(s,l){return $u(e,n,r,s,l,t)},!0),r;if(n.A!==e)return r;if(!n.P)return Zr(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=jn(n.k):n.o,u=a,i=!1;n.i===3&&(u=new Set(a),a.clear(),i=!0),br(u,function(s,l){return $u(e,n,a,s,l,t,i)}),Zr(e,a,!1),t&&e.u&&$e("Patches").N(n,t,e.u,e.s)}return n.o}function $u(e,r,t,n,a,u,i){if(Xe(a)){var s=Xr(e,a,u&&r&&r.i!==3&&!Jt(r.R,n)?u.concat(n):void 0);if(Os(t,n,s),!Xe(s))return;e.m=!1}else i&&t.add(a);if(Ze(a)&&!Hn(a)){if(!e.h.D&&e._<1)return;Xr(e,a),r&&r.A.l||Zr(e,a)}}function Zr(e,r,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&Wn(r,t)}function Rt(e,r){var t=e[Ee];return(t?qe(t):e)[r]}function _u(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function en(e){e.P||(e.P=!0,e.l&&en(e.l))}function It(e){e.o||(e.o=jn(e.t))}function rn(e,r,t){var n=kn(r)?$e("MapSet").F(r,t):Ln(r)?$e("MapSet").T(r,t):e.O?function(a,u){var i=Array.isArray(a),s={i:i?1:0,A:u?u.A:xu(),P:!1,I:!1,R:{},l:u,t:a,k:null,o:null,j:null,C:!1},l=s,v=tn;i&&(l=[s],v=Ar);var h=Proxy.revocable(l,v),d=h.revoke,f=h.proxy;return s.k=f,s.j=d,f}(r,t):$e("ES5").J(r,t);return(t?t.A:xu()).p.push(n),n}function ry(e){return Xe(e)||be(22,e),function r(t){if(!Ze(t))return t;var n,a=t[Ee],u=hr(t);if(a){if(!a.P&&(a.i<4||!$e("ES5").K(a)))return a.t;a.I=!0,n=Pu(t,u),a.I=!1}else n=Pu(t,u);return br(n,function(i,s){a&&ZB(a.t,i)===s||Os(n,i,r(s))}),u===3?new Set(n):n}(e)}function Pu(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return jn(e)}var Su,wr,zn=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",ty=typeof Map!="undefined",ny=typeof Set!="undefined",Tu=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",$s=zn?Symbol.for("immer-nothing"):((Su={})["immer-nothing"]=!0,Su),Ru=zn?Symbol.for("immer-draftable"):"__$immer_draftable",Ee=zn?Symbol.for("immer-state"):"__$immer_state",ay=""+Object.prototype.constructor,Gn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,uy=Object.getOwnPropertyDescriptors||function(e){var r={};return Gn(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},iy={},tn={get:function(e,r){if(r===Ee)return e;var t=qe(e);if(!Jt(t,r))return function(a,u,i){var s,l=_u(u,i);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(a.k):void 0}(e,t,r);var n=t[r];return e.I||!Ze(n)?n:n===Rt(e.t,r)?(It(e),e.o[r]=rn(e.A.h,n,e)):n},has:function(e,r){return r in qe(e)},ownKeys:function(e){return Reflect.ownKeys(qe(e))},set:function(e,r,t){var n=_u(qe(e),r);if(n!=null&&n.set)return n.set.call(e.k,t),!0;if(!e.P){var a=Rt(qe(e),r),u=a==null?void 0:a[Ee];if(u&&u.t===t)return e.o[r]=t,e.R[r]=!1,!0;if(JB(t,a)&&(t!==void 0||Jt(e.t,r)))return!0;It(e),en(e)}return e.o[r]===t&&(t!==void 0||r in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[r])||(e.o[r]=t,e.R[r]=!0),!0},deleteProperty:function(e,r){return Rt(e.t,r)!==void 0||r in e.t?(e.R[r]=!1,It(e),en(e)):delete e.R[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=qe(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty:function(){be(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){be(12)}},Ar={};br(tn,function(e,r){Ar[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),Ar.deleteProperty=function(e,r){return Ar.set.call(this,e,r,void 0)},Ar.set=function(e,r,t){return tn.set.call(this,e[0],r,t,e[0])};var sy=function(){function e(t){var n=this;this.O=Tu,this.D=!0,this.produce=function(a,u,i){if(typeof a=="function"&&typeof u!="function"){var s=u;u=a;var l=n;return function(m){var B=this;m===void 0&&(m=s);for(var y=arguments.length,x=Array(y>1?y-1:0),I=1;I<y;I++)x[I-1]=arguments[I];return l.produce(m,function(R){var k;return(k=u).call.apply(k,[B,R].concat(x))})}}var v;if(typeof u!="function"&&be(6),i!==void 0&&typeof i!="function"&&be(7),Ze(a)){var h=Ou(n),d=rn(n,a,void 0),f=!0;try{v=u(d),f=!1}finally{f?Yr(h):Qt(h)}return typeof Promise!="undefined"&&v instanceof Promise?v.then(function(m){return St(h,i),Tt(m,h)},function(m){throw Yr(h),m}):(St(h,i),Tt(v,h))}if(!a||typeof a!="object"){if((v=u(a))===void 0&&(v=a),v===$s&&(v=void 0),n.D&&Wn(v,!0),i){var o=[],D=[];$e("Patches").M(a,v,o,D),i(o,D)}return v}be(21,a)},this.produceWithPatches=function(a,u){if(typeof a=="function")return function(v){for(var h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];return n.produceWithPatches(v,function(o){return a.apply(void 0,[o].concat(d))})};var i,s,l=n.produce(a,u,function(v,h){i=v,s=h});return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(v){return[v,i,s]}):[l,i,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var r=e.prototype;return r.createDraft=function(t){Ze(t)||be(8),Xe(t)&&(t=ry(t));var n=Ou(this),a=rn(this,t,void 0);return a[Ee].C=!0,Qt(n),a},r.finishDraft=function(t,n){var a=t&&t[Ee],u=a.A;return St(u,n),Tt(void 0,u)},r.setAutoFreeze=function(t){this.D=t},r.setUseProxies=function(t){t&&!Tu&&be(20),this.O=t},r.applyPatches=function(t,n){var a;for(a=n.length-1;a>=0;a--){var u=n[a];if(u.path.length===0&&u.op==="replace"){t=u.value;break}}a>-1&&(n=n.slice(a+1));var i=$e("Patches").$;return Xe(t)?i(t,n):this.produce(t,function(s){return i(s,n)})},e}(),Fe=new sy,ft=Fe.produce;Fe.produceWithPatches.bind(Fe);Fe.setAutoFreeze.bind(Fe);Fe.setUseProxies.bind(Fe);Fe.applyPatches.bind(Fe);var Iu=Fe.createDraft.bind(Fe),Mu=Fe.finishDraft.bind(Fe);function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jr=new WeakMap,Qr=new WeakMap,Cr=new WeakMap,Nu=new WeakMap,ku=new WeakMap,Lu=new WeakMap,ju=new WeakMap;function Wu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Nr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _s=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:r=>{for(var t of c.pathRefs(e))ky.transform(t,r);for(var n of c.pointRefs(e))Ly.transform(n,r);for(var a of c.rangeRefs(e))Hy.transform(a,r);var u=Jr.get(e)||[],i=Qr.get(e)||new Set,s,l,v=D=>{if(D){var m=D.join(",");l.has(m)||(l.add(m),s.push(D))}};if(p.operationCanTransformPath(r)){s=[],l=new Set;for(var h of u){var d=p.transform(h,r);v(d)}}else s=u,l=i;var f=oy(r);for(var o of f)v(o);Jr.set(e,s),Qr.set(e,l),b.transform(e,r),e.operations.push(r),c.normalize(e),r.type==="set_selection"&&(e.marks=null),Cr.get(e)||(Cr.set(e,!0),Promise.resolve().then(()=>{Cr.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(r,t)=>{var{selection:n}=e;if(n)if(E.isExpanded(n))b.setNodes(e,{[r]:t},{match:L.isText,split:!0});else{var a=Nr(Nr({},c.marks(e)||{}),{},{[r]:t});e.marks=a,Cr.get(e)||e.onChange()}},deleteBackward:r=>{var{selection:t}=e;t&&E.isCollapsed(t)&&b.delete(e,{unit:r,reverse:!0})},deleteForward:r=>{var{selection:t}=e;t&&E.isCollapsed(t)&&b.delete(e,{unit:r})},deleteFragment:r=>{var{selection:t}=e;t&&E.isExpanded(t)&&b.delete(e,{reverse:r==="backward"})},getFragment:()=>{var{selection:r}=e;return r?P.fragment(e,r):[]},insertBreak:()=>{b.splitNodes(e,{always:!0})},insertSoftBreak:()=>{b.splitNodes(e,{always:!0})},insertFragment:r=>{b.insertFragment(e,r)},insertNode:r=>{b.insertNodes(e,r)},insertText:r=>{var{selection:t,marks:n}=e;if(t){if(n){var a=Nr({text:r},n);b.insertNodes(e,a)}else b.insertText(e,r);e.marks=null}},normalizeNode:r=>{var[t,n]=r;if(!L.isText(t)){if(X.isElement(t)&&t.children.length===0){var a={text:""};b.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=c.isEditor(t)?!1:X.isElement(t)&&(e.isInline(t)||t.children.length===0||L.isText(t.children[0])||e.isInline(t.children[0])),i=0,s=0;s<t.children.length;s++,i++){var l=P.get(e,n);if(!L.isText(l)){var v=t.children[s],h=l.children[i-1],d=s===t.children.length-1,f=L.isText(v)||X.isElement(v)&&e.isInline(v);if(f!==u)b.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(X.isElement(v)){if(e.isInline(v)){if(h==null||!L.isText(h)){var o={text:""};b.insertNodes(e,o,{at:n.concat(i),voids:!0}),i++}else if(d){var D={text:""};b.insertNodes(e,D,{at:n.concat(i+1),voids:!0}),i++}}}else h!=null&&L.isText(h)&&(L.equals(v,h,{loose:!0})?(b.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):h.text===""?(b.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):v.text===""&&(b.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}}}},removeMark:r=>{var{selection:t}=e;if(t)if(E.isExpanded(t))b.unsetNodes(e,r,{match:L.isText,split:!0});else{var n=Nr({},c.marks(e)||{});delete n[r],e.marks=n,Cr.get(e)||e.onChange()}}};return e},oy=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return p.levels(r)}case"insert_node":{var{node:t,path:n}=e,a=p.levels(n),u=L.isText(t)?[]:Array.from(P.nodes(t),A=>{var[,F]=A;return n.concat(F)});return[...a,...u]}case"merge_node":{var{path:i}=e,s=p.ancestors(i),l=p.previous(i);return[...s,l]}case"move_node":{var{path:v,newPath:h}=e;if(p.equals(v,h))return[];var d=[],f=[];for(var o of p.ancestors(v)){var D=p.transform(o,e);d.push(D)}for(var m of p.ancestors(h)){var B=p.transform(m,e);f.push(B)}var y=f[f.length-1],x=h[h.length-1],I=y.concat(x);return[...d,...f,I]}case"remove_node":{var{path:R}=e,k=p.ancestors(R);return[...k]}case"split_node":{var{path:$}=e,H=p.levels($),g=p.next($);return[...H,g]}default:return[]}};function ly(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Te(e,r){if(e==null)return{};var t=ly(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}var Un=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?gy(r):r,u=U.None,i=U.None,s=0,l=null,v=null;for(var h of a){var d=h.codePointAt(0);if(!d)break;var f=xy(h,d);if([u,i]=n?[i,f]:[f,u],ir(u,U.ZWJ)&&ir(i,U.ExtPict)&&(n?l=Hu(r.substring(0,s)):l=Hu(r.substring(0,r.length-s)),!l)||ir(u,U.RI)&&ir(i,U.RI)&&(v!==null?v=!v:n?v=!0:v=Sy(r.substring(0,r.length-s)),!v)||u!==U.None&&i!==U.None&&$y(u,i))break;s+=h.length}return s||1},fy=/\s/,cy=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,vy=/['\u2018\u2019]/,dy=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;r.length>0;){var u=Un(r,t),[i,s]=Kn(r,u,t);if(hy(i,s,t))a=!0,n+=u;else if(!a)n+=u;else break;r=s}return n},Kn=(e,r,t)=>{if(t){var n=e.length-r;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,r),e.slice(r)]},hy=function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(fy.test(r))return!1;if(vy.test(r)){var a=Un(t,n),[u,i]=Kn(t,a,n);if(e(u,i,n))return!0}return!cy.test(r)},gy=function*(r){for(var t=r.length-1,n=0;n<r.length;n++){var a=r.charAt(t-n);if(Dy(a.charCodeAt(0))){var u=r.charAt(t-n-1);if(py(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},py=e=>e>=55296&&e<=56319,Dy=e=>e>=56320&&e<=57343,U;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(U||(U={}));var Cy=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,my=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Ay=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,By=/^[\u1100-\u115F\uA960-\uA97C]$/,yy=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ey=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Fy=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,by=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,wy=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,xy=(e,r)=>{var t=U.Any;return e.search(Cy)!==-1&&(t|=U.Extend),r===8205&&(t|=U.ZWJ),r>=127462&&r<=127487&&(t|=U.RI),e.search(my)!==-1&&(t|=U.Prepend),e.search(Ay)!==-1&&(t|=U.SpacingMark),e.search(By)!==-1&&(t|=U.L),e.search(yy)!==-1&&(t|=U.V),e.search(Ey)!==-1&&(t|=U.T),e.search(Fy)!==-1&&(t|=U.LV),e.search(by)!==-1&&(t|=U.LVT),e.search(wy)!==-1&&(t|=U.ExtPict),t};function ir(e,r){return(e&r)!==0}var Oy=[[U.L,U.L|U.V|U.LV|U.LVT],[U.LV|U.V,U.V|U.T],[U.LVT|U.T,U.T],[U.Any,U.Extend|U.ZWJ],[U.Any,U.SpacingMark],[U.Prepend,U.Any],[U.ZWJ,U.ExtPict],[U.RI,U.RI]];function $y(e,r){return Oy.findIndex(t=>ir(e,t[0])&&ir(r,t[1]))===-1}var _y=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Hu=e=>e.search(_y)!==-1,Py=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Sy=e=>{var r=e.match(Py);if(r===null)return!1;var t=r[0].length/2;return t%2===1},zu=e=>De(e)&&P.isNodeList(e.children)&&!c.isEditor(e),X={isAncestor(e){return De(e)&&P.isNodeList(e.children)},isElement:zu,isElementList(e){return Array.isArray(e)&&e.every(r=>X.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return zu(r)&&r[n]===t},matches(e,r){for(var t in r)if(t!=="children"&&e[t]!==r[t])return!1;return!0}},Ty=["text"],Ry=["text"];function Gu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Uu=new WeakMap,c={above(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:t=!1,mode:n="lowest",at:a=e.selection,match:u}=r;if(!!a){var i=c.path(e,a),s=n==="lowest";for(var[l,v]of c.levels(e,{at:i,voids:t,match:u,reverse:s}))if(!L.isText(l)&&!p.equals(i,v))return[l,v]}},addMark(e,r,t){e.addMark(r,t)},after(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=c.point(e,r,{edge:"end"}),a=c.end(e,[]),u={anchor:n,focus:a},{distance:i=1}=t,s=0,l;for(var v of c.positions(e,ar(ar({},t),{},{at:u}))){if(s>i)break;s!==0&&(l=v),s++}return l},before(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=c.start(e,[]),a=c.point(e,r,{edge:"start"}),u={anchor:n,focus:a},{distance:i=1}=t,s=0,l;for(var v of c.positions(e,ar(ar({},t),{},{at:u,reverse:!0}))){if(s>i)break;s!==0&&(l=v),s++}return l},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:t="forward"}=r;e.deleteFragment(t)},edges(e,r){return[c.start(e,r),c.end(e,r)]},end(e,r){return c.point(e,r,{edge:"end"})},first(e,r){var t=c.path(e,r,{edge:"start"});return c.node(e,t)},fragment(e,r){var t=c.range(e,r),n=P.fragment(e,t);return n},hasBlocks(e,r){return r.children.some(t=>c.isBlock(e,t))},hasInlines(e,r){return r.children.some(t=>L.isText(t)||c.isInline(e,t))},hasTexts(e,r){return r.children.every(t=>L.isText(t))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,r){e.insertFragment(r)},insertNode(e,r){e.insertNode(r)},insertText(e,r){e.insertText(r)},isBlock(e,r){return X.isElement(r)&&!e.isInline(r)},isEditor(e){if(!De(e))return!1;var r=Uu.get(e);if(r!==void 0)return r;var t=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||De(e.marks))&&(e.selection===null||E.isRange(e.selection))&&P.isNodeList(e.children)&&je.isOperationList(e.operations);return Uu.set(e,t),t},isEnd(e,r,t){var n=c.end(e,t);return Z.equals(r,n)},isEdge(e,r,t){return c.isStart(e,r,t)||c.isEnd(e,r,t)},isEmpty(e,r){var{children:t}=r,[n]=t;return t.length===0||t.length===1&&L.isText(n)&&n.text===""&&!e.isVoid(r)},isInline(e,r){return X.isElement(r)&&e.isInline(r)},isNormalizing(e){var r=Nu.get(e);return r===void 0?!0:r},isStart(e,r,t){if(r.offset!==0)return!1;var n=c.start(e,t);return Z.equals(r,n)},isVoid(e,r){return X.isElement(r)&&e.isVoid(r)},last(e,r){var t=c.path(e,r,{edge:"end"});return c.node(e,t)},leaf(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=c.path(e,r,t),a=P.leaf(e,n);return[a,n]},*levels(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,reverse:n=!1,voids:a=!1}=r,{match:u}=r;if(u==null&&(u=()=>!0),!!t){var i=[],s=c.path(e,t);for(var[l,v]of P.levels(e,s))if(!!u(l,v)&&(i.push([l,v]),!a&&c.isVoid(e,l)))break;n&&i.reverse(),yield*i}},marks(e){var{marks:r,selection:t}=e;if(!t)return null;if(r)return r;if(E.isExpanded(t)){var[n]=c.nodes(e,{match:L.isText});if(n){var[a]=n,u=Te(a,Ty);return u}else return{}}var{anchor:i}=t,{path:s}=i,[l]=c.leaf(e,s);if(i.offset===0){var v=c.previous(e,{at:s,match:L.isText}),h=c.above(e,{match:m=>c.isBlock(e,m)});if(v&&h){var[d,f]=v,[,o]=h;p.isAncestor(o,f)&&(l=d)}}var D=Te(l,Ry);return D},next(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:t="lowest",voids:n=!1}=r,{match:a,at:u=e.selection}=r;if(!!u){var i=c.after(e,u,{voids:n});if(!!i){var[,s]=c.last(e,[]),l=[i.path,s];if(p.isPath(u)&&u.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(p.isPath(u)){var[v]=c.parent(e,u);a=d=>v.children.includes(d)}else a=()=>!0;var[h]=c.nodes(e,{at:l,match:a,mode:t,voids:n});return h}}},node(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=c.path(e,r,t),a=P.get(e,n);return[a,n]},*nodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:i=!1}=r,{match:s}=r;if(s||(s=()=>!0),!!t){var l,v;if(Iy.isSpan(t))l=t[0],v=t[1];else{var h=c.path(e,t,{edge:"start"}),d=c.path(e,t,{edge:"end"});l=u?d:h,v=u?h:d}var f=P.nodes(e,{reverse:u,from:l,to:v,pass:I=>{var[R]=I;return i?!1:c.isVoid(e,R)}}),o=[],D;for(var[m,B]of f){var y=D&&p.compare(B,D[1])===0;if(!(n==="highest"&&y)){if(!s(m,B)){if(a&&!y&&L.isText(m))return;continue}if(n==="lowest"&&y){D=[m,B];continue}var x=n==="lowest"?D:[m,B];x&&(a?o.push(x):yield x),D=[m,B]}}n==="lowest"&&D&&(a?o.push(D):yield D),a&&(yield*o)}},normalize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:t=!1}=r,n=l=>Jr.get(l)||[],a=l=>Qr.get(l)||new Set,u=l=>{var v=n(l).pop(),h=v.join(",");return a(l).delete(h),v};if(!!c.isNormalizing(e)){if(t){var i=Array.from(P.nodes(e),l=>{var[,v]=l;return v}),s=new Set(i.map(l=>l.join(",")));Jr.set(e,i),Qr.set(e,s)}n(e).length!==0&&c.withoutNormalizing(e,()=>{for(var l of n(e))if(P.has(e,l)){var v=c.node(e,l),[h,d]=v;X.isElement(h)&&h.children.length===0&&e.normalizeNode(v)}for(var f=n(e).length*42,o=0;n(e).length!==0;){if(o>f)throw new Error(`
            Could not completely normalize the editor after `.concat(f,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var D=u(e);if(P.has(e,D)){var m=c.node(e,D);e.normalizeNode(m)}o++}})}},parent(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=c.path(e,r,t),a=p.parent(n),u=c.node(e,a);return u},path(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:n,edge:a}=t;if(p.isPath(r)){if(a==="start"){var[,u]=P.first(e,r);r=u}else if(a==="end"){var[,i]=P.last(e,r);r=i}}return E.isRange(r)&&(a==="start"?r=E.start(r):a==="end"?r=E.end(r):r=p.common(r.anchor.path,r.focus.path)),Z.isPoint(r)&&(r=r.path),n!=null&&(r=r.slice(0,n)),r},hasPath(e,r){return P.has(e,r)},pathRef(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=t,a={current:r,affinity:n,unref(){var{current:i}=a,s=c.pathRefs(e);return s.delete(a),a.current=null,i}},u=c.pathRefs(e);return u.add(a),a},pathRefs(e){var r=ku.get(e);return r||(r=new Set,ku.set(e,r)),r},point(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:n="start"}=t;if(p.isPath(r)){var a;if(n==="end"){var[,u]=P.last(e,r);a=u}else{var[,i]=P.first(e,r);a=i}var s=P.get(e,a);if(!L.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(r,"] because it has no ").concat(n," text node."));return{path:a,offset:n==="end"?s.text.length:0}}if(E.isRange(r)){var[l,v]=E.edges(r);return n==="start"?l:v}return r},pointRef(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=t,a={current:r,affinity:n,unref(){var{current:i}=a,s=c.pointRefs(e);return s.delete(a),a.current=null,i}},u=c.pointRefs(e);return u.add(a),a},pointRefs(e){var r=Lu.get(e);return r||(r=new Set,Lu.set(e,r)),r},*positions(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1}=r;if(!t)return;var i=c.range(e,t),[s,l]=E.edges(i),v=a?l:s,h=!1,d="",f=0,o=0,D=0;for(var[m,B]of c.nodes(e,{at:t,reverse:a,voids:u})){if(X.isElement(m)){if(!u&&e.isVoid(m)){yield c.start(e,B);continue}if(e.isInline(m))continue;if(c.hasInlines(e,m)){var y=p.isAncestor(B,l.path)?l:c.end(e,B),x=p.isAncestor(B,s.path)?s:c.start(e,B);d=c.string(e,{anchor:x,focus:y},{voids:u}),h=!0}}if(L.isText(m)){var I=p.equals(B,v.path);for(I?(o=a?v.offset:m.text.length-v.offset,D=v.offset):(o=m.text.length,D=a?o:0),(I||h||n==="offset")&&(yield{path:B,offset:D},h=!1);;){if(f===0){if(d==="")break;f=R(d,n,a),d=Kn(d,f,a)[1]}if(D=a?D-f:D+f,o=o-f,o<0){f=-o;break}f=0,yield{path:B,offset:D}}}}function R(k,$,H){return $==="character"?Un(k,H):$==="word"?dy(k,H):$==="line"||$==="block"?k.length:1}},previous(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:t="lowest",voids:n=!1}=r,{match:a,at:u=e.selection}=r;if(!!u){var i=c.before(e,u,{voids:n});if(!!i){var[,s]=c.first(e,[]),l=[i.path,s];if(p.isPath(u)&&u.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(p.isPath(u)){var[v]=c.parent(e,u);a=d=>v.children.includes(d)}else a=()=>!0;var[h]=c.nodes(e,{reverse:!0,at:l,match:a,mode:t,voids:n});return h}}},range(e,r,t){if(E.isRange(r)&&!t)return r;var n=c.start(e,r),a=c.end(e,t||r);return{anchor:n,focus:a}},rangeRef(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=t,a={current:r,affinity:n,unref(){var{current:i}=a,s=c.rangeRefs(e);return s.delete(a),a.current=null,i}},u=c.rangeRefs(e);return u.add(a),a},rangeRefs(e){var r=ju.get(e);return r||(r=new Set,ju.set(e,r)),r},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){Nu.set(e,r)},start(e,r){return c.point(e,r,{edge:"start"})},string(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=t,a=c.range(e,r),[u,i]=E.edges(a),s="";for(var[l,v]of c.nodes(e,{at:a,match:L.isText,voids:n})){var h=l.text;p.equals(v,i.path)&&(h=h.slice(0,i.offset)),p.equals(v,u.path)&&(h=h.slice(u.offset)),s+=h}return s},unhangRange(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=t,[a,u]=E.edges(r);if(a.offset!==0||u.offset!==0||E.isCollapsed(r))return r;var i=c.above(e,{at:u,match:o=>c.isBlock(e,o)}),s=i?i[1]:[],l=c.start(e,a),v={anchor:l,focus:u},h=!0;for(var[d,f]of c.nodes(e,{at:v,match:L.isText,reverse:!0,voids:n})){if(h){h=!1;continue}if(d.text!==""||p.isBefore(f,s)){u={path:f,offset:d.text.length};break}}return{anchor:a,focus:u}},void(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.above(e,ar(ar({},r),{},{match:t=>c.isVoid(e,t)}))},withoutNormalizing(e,r){var t=c.isNormalizing(e);c.setNormalizing(e,!1);try{r()}finally{c.setNormalizing(e,t)}c.normalize(e)}},Iy={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(p.isPath)}},My=["children"],Ny=["text"],Ku=new WeakMap,P={ancestor(e,r){var t=P.get(e,r);if(L.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(Ce.stringify(t)));return t},*ancestors(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of p.ancestors(r,t)){var a=P.ancestor(e,n),u=[a,n];yield u}},child(e,r){if(L.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(e)));var t=e.children[r];if(t==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(Ce.stringify(e)));return t},*children(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=t,a=P.ancestor(e,r),{children:u}=a,i=n?u.length-1:0;n?i>=0:i<u.length;){var s=P.child(a,i),l=r.concat(i);yield[s,l],i=n?i-1:i+1}},common(e,r,t){var n=p.common(r,t),a=P.get(e,n);return[a,n]},descendant(e,r){var t=P.get(e,r);if(c.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(Ce.stringify(t)));return t},*descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of P.nodes(e,r))n.length!==0&&(yield[t,n])},*elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of P.nodes(e,r))X.isElement(t)&&(yield[t,n])},extractProps(e){if(X.isAncestor(e)){var r=Te(e,My);return r}else{var r=Te(e,Ny);return r}},first(e,r){for(var t=r.slice(),n=P.get(e,t);n&&!(L.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(e,r){if(L.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(e)));var t=ft({children:e.children},n=>{var[a,u]=E.edges(r),i=P.nodes(n,{reverse:!0,pass:f=>{var[,o]=f;return!E.includes(r,o)}});for(var[,s]of i){if(!E.includes(r,s)){var l=P.parent(n,s),v=s[s.length-1];l.children.splice(v,1)}if(p.equals(s,u.path)){var h=P.leaf(n,s);h.text=h.text.slice(0,u.offset)}if(p.equals(s,a.path)){var d=P.leaf(n,s);d.text=d.text.slice(a.offset)}}c.isEditor(n)&&(n.selection=null)});return t.children},get(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(L.isText(t)||!t.children[a])throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(Ce.stringify(e)));t=t.children[a]}return t},has(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(L.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(e){return L.isText(e)||X.isElement(e)||c.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=Ku.get(e);if(r!==void 0)return r;var t=e.every(n=>P.isNode(n));return Ku.set(e,t),t},last(e,r){for(var t=r.slice(),n=P.get(e,t);n&&!(L.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(e,r){var t=P.get(e,r);if(!L.isText(t))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(Ce.stringify(t)));return t},*levels(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of p.levels(r,t)){var a=P.get(e,n);yield[a,n]}},matches(e,r){return X.isElement(e)&&X.isElementProps(r)&&X.matches(e,r)||L.isText(e)&&L.isTextProps(r)&&L.matches(e,r)},*nodes(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:t,reverse:n=!1}=r,{from:a=[],to:u}=r,i=new Set,s=[],l=e;!(u&&(n?p.isBefore(s,u):p.isAfter(s,u)));){if(i.has(l)||(yield[l,s]),!i.has(l)&&!L.isText(l)&&l.children.length!==0&&(t==null||t([l,s])===!1)){i.add(l);var v=n?l.children.length-1:0;p.isAncestor(s,a)&&(v=a[s.length]),s=s.concat(v),l=P.get(e,s);continue}if(s.length===0)break;if(!n){var h=p.next(s);if(P.has(e,h)){s=h,l=P.get(e,s);continue}}if(n&&s[s.length-1]!==0){var d=p.previous(s);s=d,l=P.get(e,s);continue}s=p.parent(s),l=P.get(e,s),i.add(l)}},parent(e,r){var t=p.parent(r),n=P.get(e,t);if(L.isText(n))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return n},string(e){return L.isText(e)?e.text:e.children.map(P.string).join("")},*texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of P.nodes(e,r))L.isText(t)&&(yield[t,n])}};function qu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ae(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var je={isNodeOperation(e){return je.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!De(e))return!1;switch(e.type){case"insert_node":return p.isPath(e.path)&&P.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&p.isPath(e.path);case"merge_node":return typeof e.position=="number"&&p.isPath(e.path)&&De(e.properties);case"move_node":return p.isPath(e.path)&&p.isPath(e.newPath);case"remove_node":return p.isPath(e.path)&&P.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&p.isPath(e.path);case"set_node":return p.isPath(e.path)&&De(e.properties)&&De(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||De(e.properties)&&De(e.newProperties);case"split_node":return p.isPath(e.path)&&typeof e.position=="number"&&De(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>je.isOperation(r))},isSelectionOperation(e){return je.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return je.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ae(ae({},e),{},{type:"remove_node"});case"insert_text":return ae(ae({},e),{},{type:"remove_text"});case"merge_node":return ae(ae({},e),{},{type:"split_node",path:p.previous(e.path)});case"move_node":{var{newPath:r,path:t}=e;if(p.equals(r,t))return e;if(p.isSibling(t,r))return ae(ae({},e),{},{path:r,newPath:t});var n=p.transform(t,e),a=p.transform(p.next(t),e);return ae(ae({},e),{},{path:n,newPath:a})}case"remove_node":return ae(ae({},e),{},{type:"insert_node"});case"remove_text":return ae(ae({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:i}=e;return ae(ae({},e),{},{properties:i,newProperties:u})}case"set_selection":{var{properties:s,newProperties:l}=e;return s==null?ae(ae({},e),{},{properties:l,newProperties:null}):l==null?ae(ae({},e),{},{properties:null,newProperties:s}):ae(ae({},e),{},{properties:l,newProperties:s})}case"split_node":return ae(ae({},e),{},{type:"merge_node",path:p.next(e.path)})}}},p={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=p.levels(e,r);return t?n=n.slice(1):n=n.slice(0,-1),n},common(e,r){for(var t=[],n=0;n<e.length&&n<r.length;n++){var a=e[n],u=r[n];if(a!==u)break;t.push(a)}return t},compare(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],i=r[t];return p.equals(n,a)&&u>i},endsAt(e,r){var t=e.length,n=e.slice(0,t),a=r.slice(0,t);return p.equals(n,a)},endsBefore(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],i=r[t];return p.equals(n,a)&&u<i},equals(e,r){return e.length===r.length&&e.every((t,n)=>t===r[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return p.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&p.compare(e,r)===0},isBefore(e,r){return p.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&p.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&p.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&p.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&p.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var t=e.slice(0,-1),n=r.slice(0,-1),a=e[e.length-1],u=r[r.length-1];return a!==u&&p.equals(t,n)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return t&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!p.isAncestor(r,e)&&!p.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ft(e,n=>{var{affinity:a="forward"}=t;if(!(!e||(e==null?void 0:e.length)===0)){if(n===null)return null;switch(r.type){case"insert_node":{var{path:u}=r;(p.equals(u,n)||p.endsBefore(u,n)||p.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:i}=r;if(p.equals(i,n)||p.isAncestor(i,n))return null;p.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:s,position:l}=r;p.equals(s,n)||p.endsBefore(s,n)?n[s.length-1]-=1:p.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break}case"split_node":{var{path:v,position:h}=r;if(p.equals(v,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else p.endsBefore(v,n)?n[v.length-1]+=1:p.isAncestor(v,n)&&e[v.length]>=h&&(n[v.length-1]+=1,n[v.length]-=h);break}case"move_node":{var{path:d,newPath:f}=r;if(p.equals(d,f))return;if(p.isAncestor(d,n)||p.equals(d,n)){var o=f.slice();return p.endsBefore(d,f)&&d.length<f.length&&(o[d.length-1]-=1),o.concat(n.slice(d.length))}else p.isSibling(d,f)&&(p.isAncestor(f,n)||p.equals(f,n))?p.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:p.endsBefore(f,n)||p.equals(f,n)||p.isAncestor(f,n)?(p.endsBefore(d,n)&&(n[d.length-1]-=1),n[f.length-1]+=1):p.endsBefore(d,n)&&(p.equals(f,n)&&(n[f.length-1]+=1),n[d.length-1]-=1);break}}}})}},ky={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=p.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}};function Vu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Yu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Vu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Z={compare(e,r){var t=p.compare(e.path,r.path);return t===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:t},isAfter(e,r){return Z.compare(e,r)===1},isBefore(e,r){return Z.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&p.equals(e.path,r.path)},isPoint(e){return De(e)&&typeof e.offset=="number"&&p.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ft(e,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:i}=n;switch(r.type){case"insert_node":case"move_node":{n.path=p.transform(u,r,t);break}case"insert_text":{p.equals(r.path,u)&&(r.offset<i||r.offset===i&&a==="forward")&&(n.offset+=r.text.length);break}case"merge_node":{p.equals(r.path,u)&&(n.offset+=r.position),n.path=p.transform(u,r,t);break}case"remove_text":{p.equals(r.path,u)&&r.offset<=i&&(n.offset-=Math.min(i-r.offset,r.text.length));break}case"remove_node":{if(p.equals(r.path,u)||p.isAncestor(r.path,u))return null;n.path=p.transform(u,r,t);break}case"split_node":{if(p.equals(r.path,u)){if(r.position===i&&a==null)return null;(r.position<i||r.position===i&&a==="forward")&&(n.offset-=r.position,n.path=p.transform(u,r,Yu(Yu({},t),{},{affinity:"forward"})))}else n.path=p.transform(u,r,t);break}}})}},Ly={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=Z.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},jy=["anchor","focus"];function Xu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Wy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,{anchor:n,focus:a}=e;return E.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=E.edges(e);return r},equals(e,r){return Z.equals(e.anchor,r.anchor)&&Z.equals(e.focus,r.focus)},includes(e,r){if(E.isRange(r)){if(E.includes(e,r.anchor)||E.includes(e,r.focus))return!0;var[t,n]=E.edges(e),[a,u]=E.edges(r);return Z.isBefore(t,a)&&Z.isAfter(n,u)}var[i,s]=E.edges(e),l=!1,v=!1;return Z.isPoint(r)?(l=Z.compare(r,i)>=0,v=Z.compare(r,s)<=0):(l=p.compare(r,i.path)>=0,v=p.compare(r,s.path)<=0),l&&v},intersection(e,r){var t=Te(e,jy),[n,a]=E.edges(e),[u,i]=E.edges(r),s=Z.isBefore(n,u)?u:n,l=Z.isBefore(a,i)?a:i;return Z.isBefore(l,s)?null:Wy({anchor:s,focus:l},t)},isBackward(e){var{anchor:r,focus:t}=e;return Z.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return Z.equals(r,t)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return De(e)&&Z.isPoint(e.anchor)&&Z.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=E.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ft(e,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,i;if(a==="inward"){var s=E.isCollapsed(n);E.isForward(n)?(u="forward",i=s?u:"backward"):(u="backward",i=s?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",i="forward"):(u="forward",i="backward"):(u=a,i=a);var l=Z.transform(n.anchor,r,{affinity:u}),v=Z.transform(n.focus,r,{affinity:i});if(!l||!v)return null;n.anchor=l,n.focus=v})}},Hy={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=E.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},Zu=void 0,Ce={setScrubber(e){Zu=e},stringify(e){return JSON.stringify(e,Zu)}},Ps=(e,r)=>{for(var t in e){var n=e[t],a=r[t];if(De(n)&&De(a)){if(!Ps(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var i in r)if(e[i]===void 0&&r[i]!==void 0)return!1;return!0},zy=["text"],Gy=["anchor","focus"];function Ju(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Se(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ju(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ju(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var L={equals(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var i=Te(u,zy);return i}return Ps(n?a(e):e,n?a(r):r)},isText(e){return De(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>L.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var t in r)if(t!=="text"&&(!e.hasOwnProperty(t)||e[t]!==r[t]))return!1;return!0},decorations(e,r){var t=[Se({},e)];for(var n of r){var a=Te(n,Gy),[u,i]=E.edges(n),s=[],l=0,v=u.offset,h=i.offset;for(var d of t){var{length:f}=d.text,o=l;if(l+=f,v<=o&&l<=h){Object.assign(d,a),s.push(d);continue}if(v!==h&&(v===l||h===o)||v>l||h<o||h===o&&o!==0){s.push(d);continue}var D=d,m=void 0,B=void 0;if(h<l){var y=h-o;B=Se(Se({},D),{},{text:D.text.slice(y)}),D=Se(Se({},D),{},{text:D.text.slice(0,y)})}if(v>o){var x=v-o;m=Se(Se({},D),{},{text:D.text.slice(0,x)}),D=Se(Se({},D),{},{text:D.text.slice(x)})}Object.assign(D,a),m&&s.push(m),s.push(D),B&&s.push(B)}t=s}return t}};function Qu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function mr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qu(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Uy=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=P.parent(e,n),i=n[n.length-1];if(i>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(i,0,a),r)for(var[s,l]of E.points(r))r[l]=Z.transform(s,t);break}case"insert_text":{var{path:v,offset:h,text:d}=t;if(d.length===0)break;var f=P.leaf(e,v),o=f.text.slice(0,h),D=f.text.slice(h);if(f.text=o+d+D,r)for(var[m,B]of E.points(r))r[B]=Z.transform(m,t);break}case"merge_node":{var{path:y}=t,x=P.get(e,y),I=p.previous(y),R=P.get(e,I),k=P.parent(e,y),$=y[y.length-1];if(L.isText(x)&&L.isText(R))R.text+=x.text;else if(!L.isText(x)&&!L.isText(R))R.children.push(...x.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(Ce.stringify(x)," ").concat(Ce.stringify(R)));if(k.children.splice($,1),r)for(var[H,g]of E.points(r))r[g]=Z.transform(H,t);break}case"move_node":{var{path:A,newPath:F}=t;if(p.isAncestor(A,F))throw new Error("Cannot move a path [".concat(A,"] to new path [").concat(F,"] because the destination is inside itself."));var S=P.get(e,A),j=P.parent(e,A),M=A[A.length-1];j.children.splice(M,1);var q=p.transform(A,t),K=P.get(e,p.parent(q)),V=q[q.length-1];if(K.children.splice(V,0,S),r)for(var[Y,Q]of E.points(r))r[Q]=Z.transform(Y,t);break}case"remove_node":{var{path:ee}=t,he=ee[ee.length-1],ve=P.parent(e,ee);if(ve.children.splice(he,1),r)for(var[ce,G]of E.points(r)){var te=Z.transform(ce,t);if(r!=null&&te!=null)r[G]=te;else{var N=void 0,_=void 0;for(var[T,W]of P.texts(e))if(p.compare(W,ee)===-1)N=[T,W];else{_=[T,W];break}var z=!1;N&&_&&(p.equals(_[1],ee)?z=!p.hasPrevious(_[1]):z=p.common(N[1],ee).length<p.common(_[1],ee).length),N&&!z?(ce.path=N[1],ce.offset=N[0].text.length):_?(ce.path=_[1],ce.offset=0):r=null}}break}case"remove_text":{var{path:se,offset:ge,text:de}=t;if(de.length===0)break;var oe=P.leaf(e,se),Ne=oe.text.slice(0,ge),Ct=oe.text.slice(ge+de.length);if(oe.text=Ne+Ct,r)for(var[go,po]of E.points(r))r[po]=Z.transform(go,t);break}case"set_node":{var{path:sa,properties:Do,newProperties:mt}=t;if(sa.length===0)throw new Error("Cannot set properties on the root node!");var At=P.get(e,sa);for(var rr in mt){if(rr==="children"||rr==="text")throw new Error('Cannot set the "'.concat(rr,'" property of nodes!'));var oa=mt[rr];oa==null?delete At[rr]:At[rr]=oa}for(var la in Do)mt.hasOwnProperty(la)||delete At[la];break}case"set_selection":{var{newProperties:Ge}=t;if(Ge==null)r=Ge;else{if(r==null){if(!E.isRange(Ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(Ge)," when there is no current selection."));r=mr({},Ge)}for(var tr in Ge){var fa=Ge[tr];if(fa==null){if(tr==="anchor"||tr==="focus")throw new Error('Cannot remove the "'.concat(tr,'" selection property'));delete r[tr]}else r[tr]=fa}}break}case"split_node":{var{path:nr,position:Rr,properties:ca}=t;if(nr.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(nr,"] because the root node cannot be split."));var Ue=P.get(e,nr),Co=P.parent(e,nr),mo=nr[nr.length-1],Bt;if(L.isText(Ue)){var Ao=Ue.text.slice(0,Rr),Bo=Ue.text.slice(Rr);Ue.text=Ao,Bt=mr(mr({},ca),{},{text:Bo})}else{var yo=Ue.children.slice(0,Rr),Eo=Ue.children.slice(Rr);Ue.children=yo,Bt=mr(mr({},ca),{},{children:Eo})}if(Co.children.splice(mo+1,0,Bt),r)for(var[Fo,bo]of E.points(r))r[bo]=Z.transform(Fo,t);break}}return r},Ky={transform(e,r){e.children=Iu(e.children);var t=e.selection&&Iu(e.selection);try{t=Uy(e,t,r)}finally{e.children=Mu(e.children),t?e.selection=Xe(t)?Mu(t):t:e.selection=null}}},qy=["text"],Vy=["children"];function ei(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ri(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ei(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ei(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Yy={insertNodes(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:i,match:s,select:l}=t;if(P.isNode(r)&&(r=[r]),r.length!==0){var[v]=r;if(i||(e.selection?i=e.selection:e.children.length>0?i=c.end(e,[]):i=[0],l=!0),l==null&&(l=!1),E.isRange(i))if(n||(i=c.unhangRange(e,i)),E.isCollapsed(i))i=i.anchor;else{var[,h]=E.edges(i),d=c.pointRef(e,h);b.delete(e,{at:i}),i=d.unref()}if(Z.isPoint(i)){s==null&&(L.isText(v)?s=$=>L.isText($):e.isInline(v)?s=$=>L.isText($)||c.isInline(e,$):s=$=>c.isBlock(e,$));var[f]=c.nodes(e,{at:i.path,match:s,mode:u,voids:a});if(f){var[,o]=f,D=c.pathRef(e,o),m=c.isEnd(e,i,o);b.splitNodes(e,{at:i,match:s,mode:u,voids:a});var B=D.unref();i=m?p.next(B):B}else return}var y=p.parent(i),x=i[i.length-1];if(!(!a&&c.void(e,{at:y}))){for(var I of r){var R=y.concat(x);x++,e.apply({type:"insert_node",path:R,node:I}),i=p.next(i)}if(i=p.previous(i),l){var k=c.end(e,i);k&&b.select(e,k)}}}})},liftNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{at:t=e.selection,mode:n="lowest",voids:a=!1}=r,{match:u}=r;if(u==null&&(u=p.isPath(t)?ur(e,t):I=>c.isBlock(e,I)),!!t){var i=c.nodes(e,{at:t,match:u,mode:n,voids:a}),s=Array.from(i,I=>{var[,R]=I;return c.pathRef(e,R)});for(var l of s){var v=l.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var h=c.node(e,p.parent(v)),[d,f]=h,o=v[v.length-1],{length:D}=d.children;if(D===1){var m=p.next(f);b.moveNodes(e,{at:v,to:m,voids:a}),b.removeNodes(e,{at:f,voids:a})}else if(o===0)b.moveNodes(e,{at:v,to:f,voids:a});else if(o===D-1){var B=p.next(f);b.moveNodes(e,{at:v,to:B,voids:a})}else{var y=p.next(v),x=p.next(f);b.splitNodes(e,{at:y,voids:a}),b.moveNodes(e,{at:v,to:x,voids:a})}}}})},mergeNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{match:t,at:n=e.selection}=r,{hanging:a=!1,voids:u=!1,mode:i="lowest"}=r;if(!!n){if(t==null)if(p.isPath(n)){var[s]=c.parent(e,n);t=A=>s.children.includes(A)}else t=A=>c.isBlock(e,A);if(!a&&E.isRange(n)&&(n=c.unhangRange(e,n)),E.isRange(n))if(E.isCollapsed(n))n=n.anchor;else{var[,l]=E.edges(n),v=c.pointRef(e,l);b.delete(e,{at:n}),n=v.unref(),r.at==null&&b.select(e,n)}var[h]=c.nodes(e,{at:n,match:t,voids:u,mode:i}),d=c.previous(e,{at:n,match:t,voids:u,mode:i});if(!(!h||!d)){var[f,o]=h,[D,m]=d;if(!(o.length===0||m.length===0)){var B=p.next(m),y=p.common(o,m),x=p.isSibling(o,m),I=Array.from(c.levels(e,{at:o}),A=>{var[F]=A;return F}).slice(y.length).slice(0,-1),R=c.above(e,{at:o,mode:"highest",match:A=>I.includes(A)&&Ss(e,A)}),k=R&&c.pathRef(e,R[1]),$,H;if(L.isText(f)&&L.isText(D)){var g=Te(f,qy);H=D.text.length,$=g}else if(X.isElement(f)&&X.isElement(D)){var g=Te(f,Vy);H=D.children.length,$=g}else throw new Error("Cannot merge the node at path [".concat(o,"] with the previous sibling because it is not the same kind: ").concat(Ce.stringify(f)," ").concat(Ce.stringify(D)));x||b.moveNodes(e,{at:o,to:B,voids:u}),k&&b.removeNodes(e,{at:k.current,voids:u}),X.isElement(D)&&c.isEmpty(e,D)||L.isText(D)&&D.text===""&&m[m.length-1]!==0?b.removeNodes(e,{at:m,voids:u}):e.apply({type:"merge_node",path:B,position:H,properties:$}),k&&k.unref()}}}})},moveNodes(e,r){c.withoutNormalizing(e,()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:i}=r;if(!!n){i==null&&(i=p.isPath(n)?ur(e,n):o=>c.isBlock(e,o));var s=c.pathRef(e,t),l=c.nodes(e,{at:n,match:i,mode:a,voids:u}),v=Array.from(l,o=>{var[,D]=o;return c.pathRef(e,D)});for(var h of v){var d=h.unref(),f=s.current;d.length!==0&&e.apply({type:"move_node",path:d,newPath:f}),s.current&&p.isSibling(f,d)&&p.isAfter(f,d)&&(s.current=p.next(s.current))}s.unref()}})},removeNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{hanging:t=!1,voids:n=!1,mode:a="lowest"}=r,{at:u=e.selection,match:i}=r;if(!!u){i==null&&(i=p.isPath(u)?ur(e,u):f=>c.isBlock(e,f)),!t&&E.isRange(u)&&(u=c.unhangRange(e,u));var s=c.nodes(e,{at:u,match:i,mode:a,voids:n}),l=Array.from(s,f=>{var[,o]=f;return c.pathRef(e,o)});for(var v of l){var h=v.unref();if(h){var[d]=c.node(e,h);e.apply({type:"remove_node",path:h,node:d})}}}})},setNodes(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.withoutNormalizing(e,()=>{var{match:n,at:a=e.selection,compare:u,merge:i}=t,{hanging:s=!1,mode:l="lowest",split:v=!1,voids:h=!1}=t;if(!!a){if(n==null&&(n=p.isPath(a)?ur(e,a):H=>c.isBlock(e,H)),!s&&E.isRange(a)&&(a=c.unhangRange(e,a)),v&&E.isRange(a)){if(E.isCollapsed(a)&&c.leaf(e,a.anchor)[0].text.length>0)return;var d=c.rangeRef(e,a,{affinity:"inward"}),[f,o]=E.edges(a),D=l==="lowest"?"lowest":"highest",m=c.isEnd(e,o,o.path);b.splitNodes(e,{at:o,match:n,mode:D,voids:h,always:!m});var B=c.isStart(e,f,f.path);b.splitNodes(e,{at:f,match:n,mode:D,voids:h,always:!B}),a=d.unref(),t.at==null&&b.select(e,a)}u||(u=(H,g)=>H!==g);for(var[y,x]of c.nodes(e,{at:a,match:n,mode:l,voids:h})){var I={},R={};if(x.length!==0){var k=!1;for(var $ in r)$==="children"||$==="text"||u(r[$],y[$])&&(k=!0,y.hasOwnProperty($)&&(I[$]=y[$]),i?r[$]!=null&&(R[$]=i(y[$],r[$])):r[$]!=null&&(R[$]=r[$]));k&&e.apply({type:"set_node",path:x,properties:I,newProperties:R})}}}})},splitNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{mode:t="lowest",voids:n=!1}=r,{match:a,at:u=e.selection,height:i=0,always:s=!1}=r;if(a==null&&(a=Q=>c.isBlock(e,Q)),E.isRange(u)&&(u=Xy(e,u)),p.isPath(u)){var l=u,v=c.point(e,l),[h]=c.parent(e,l);a=Q=>Q===h,i=v.path.length-l.length+1,u=v,s=!0}if(!!u){var d=c.pointRef(e,u,{affinity:"backward"}),f;try{var[o]=c.nodes(e,{at:u,match:a,mode:t,voids:n});if(!o)return;var D=c.void(e,{at:u,mode:"highest"}),m=0;if(!n&&D){var[B,y]=D;if(X.isElement(B)&&e.isInline(B)){var x=c.after(e,y);if(!x){var I={text:""},R=p.next(y);b.insertNodes(e,I,{at:R,voids:n}),x=c.point(e,R)}u=x,s=!0}var k=u.path.length-y.length;i=k+1,s=!0}f=c.pointRef(e,u);var $=u.path.length-i,[,H]=o,g=u.path.slice(0,$),A=i===0?u.offset:u.path[$]+m;for(var[F,S]of c.levels(e,{at:g,reverse:!0,voids:n})){var j=!1;if(S.length<H.length||S.length===0||!n&&c.isVoid(e,F))break;var M=d.current,q=c.isEnd(e,M,S);if(s||!d||!c.isEdge(e,M,S)){j=!0;var K=P.extractProps(F);e.apply({type:"split_node",path:S,position:A,properties:K})}A=S[S.length-1]+(j||q?1:0)}if(r.at==null){var V=f.current||c.end(e,[]);b.select(e,V)}}finally{var Y;d.unref(),(Y=f)===null||Y===void 0||Y.unref()}}})},unsetNodes(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var n={};for(var a of r)n[a]=null;b.setNodes(e,n,t)},unwrapNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{mode:t="lowest",split:n=!1,voids:a=!1}=r,{at:u=e.selection,match:i}=r;if(!!u){i==null&&(i=p.isPath(u)?ur(e,u):f=>c.isBlock(e,f)),p.isPath(u)&&(u=c.range(e,u));var s=E.isRange(u)?c.rangeRef(e,u):null,l=c.nodes(e,{at:u,match:i,mode:t,voids:a}),v=Array.from(l,f=>{var[,o]=f;return c.pathRef(e,o)}).reverse(),h=function(o){var D=o.unref(),[m]=c.node(e,D),B=c.range(e,D);n&&s&&(B=E.intersection(s.current,B)),b.liftNodes(e,{at:B,match:y=>X.isAncestor(m)&&m.children.includes(y),voids:a})};for(var d of v)h(d);s&&s.unref()}})},wrapNodes(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.withoutNormalizing(e,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{match:i,at:s=e.selection}=t;if(!!s){if(i==null&&(p.isPath(s)?i=ur(e,s):e.isInline(r)?i=B=>c.isInline(e,B)||L.isText(B):i=B=>c.isBlock(e,B)),a&&E.isRange(s)){var[l,v]=E.edges(s),h=c.rangeRef(e,s,{affinity:"inward"});b.splitNodes(e,{at:v,match:i,voids:u}),b.splitNodes(e,{at:l,match:i,voids:u}),s=h.unref(),t.at==null&&b.select(e,s)}var d=Array.from(c.nodes(e,{at:s,match:e.isInline(r)?B=>c.isBlock(e,B):B=>c.isEditor(B),mode:"lowest",voids:u}));for(var[,f]of d){var o=E.isRange(s)?E.intersection(s,c.range(e,f)):s;if(!!o){var D=Array.from(c.nodes(e,{at:o,match:i,mode:n,voids:u}));if(D.length>0){var m=function(){var[B]=D,y=D[D.length-1],[,x]=B,[,I]=y;if(x.length===0&&I.length===0)return"continue";var R=p.equals(x,I)?p.parent(x):p.common(x,I),k=c.range(e,x,I),$=c.node(e,R),[H]=$,g=R.length+1,A=p.next(I.slice(0,g)),F=ri(ri({},r),{},{children:[]});b.insertNodes(e,F,{at:A,voids:u}),b.moveNodes(e,{at:k,match:S=>X.isAncestor(H)&&H.children.includes(S),to:A.concat(0),voids:u})}();if(m==="continue")continue}}}}})}},Ss=(e,r)=>{if(X.isElement(r)){var t=r;return c.isVoid(e,r)?!0:t.children.length===1?Ss(e,t.children[0]):!1}else return!c.isEditor(r)},Xy=(e,r)=>{if(E.isCollapsed(r))return r.anchor;var[,t]=E.edges(r),n=c.pointRef(e,t);return b.delete(e,{at:r}),n.unref()},ur=(e,r)=>{var[t]=c.node(e,r);return n=>n===t};function ti(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ni(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ti(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ti(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Zy={collapse(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:t="anchor"}=r,{selection:n}=e;if(n){if(t==="anchor")b.select(e,n.anchor);else if(t==="focus")b.select(e,n.focus);else if(t==="start"){var[a]=E.edges(n);b.select(e,a)}else if(t==="end"){var[,u]=E.edges(n);b.select(e,u)}}else return},deselect(e){var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},move(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:t}=e,{distance:n=1,unit:a="character",reverse:u=!1}=r,{edge:i=null}=r;if(!!t){i==="start"&&(i=E.isBackward(t)?"focus":"anchor"),i==="end"&&(i=E.isBackward(t)?"anchor":"focus");var{anchor:s,focus:l}=t,v={distance:n,unit:a},h={};if(i==null||i==="anchor"){var d=u?c.before(e,s,v):c.after(e,s,v);d&&(h.anchor=d)}if(i==null||i==="focus"){var f=u?c.before(e,l,v):c.after(e,l,v);f&&(h.focus=f)}b.setSelection(e,h)}},select(e,r){var{selection:t}=e;if(r=c.range(e,r),t){b.setSelection(e,r);return}if(!E.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ce.stringify(r)));e.apply({type:"set_selection",properties:t,newProperties:r})},setPoint(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:n}=e,{edge:a="both"}=t;if(!!n){a==="start"&&(a=E.isBackward(n)?"focus":"anchor"),a==="end"&&(a=E.isBackward(n)?"anchor":"focus");var{anchor:u,focus:i}=n,s=a==="anchor"?u:i;b.setSelection(e,{[a==="anchor"?"anchor":"focus"]:ni(ni({},s),r)})}},setSelection(e,r){var{selection:t}=e,n={},a={};if(!!t){for(var u in r)(u==="anchor"&&r.anchor!=null&&!Z.equals(r.anchor,t.anchor)||u==="focus"&&r.focus!=null&&!Z.equals(r.focus,t.focus)||u!=="anchor"&&u!=="focus"&&r[u]!==t[u])&&(n[u]=t[u],a[u]=r[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}}},Jy={delete(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.withoutNormalizing(e,()=>{var{reverse:t=!1,unit:n="character",distance:a=1,voids:u=!1}=r,{at:i=e.selection,hanging:s=!1}=r;if(!!i){var l=!1;if(E.isRange(i)&&E.isCollapsed(i)&&(l=!0,i=i.anchor),Z.isPoint(i)){var v=c.void(e,{at:i,mode:"highest"});if(!u&&v){var[,h]=v;i=h}else{var d={unit:n,distance:a},f=t?c.before(e,i,d)||c.start(e,[]):c.after(e,i,d)||c.end(e,[]);i={anchor:i,focus:f},s=!0}}if(p.isPath(i)){b.removeNodes(e,{at:i,voids:u});return}if(!E.isCollapsed(i)){if(!s){var[,o]=E.edges(i),D=c.end(e,[]);Z.equals(o,D)||(i=c.unhangRange(e,i,{voids:u}))}var[m,B]=E.edges(i),y=c.above(e,{match:oe=>c.isBlock(e,oe),at:m,voids:u}),x=c.above(e,{match:oe=>c.isBlock(e,oe),at:B,voids:u}),I=y&&x&&!p.equals(y[1],x[1]),R=p.equals(m.path,B.path),k=u?null:c.void(e,{at:m,mode:"highest"}),$=u?null:c.void(e,{at:B,mode:"highest"});if(k){var H=c.before(e,m);H&&y&&p.isAncestor(y[1],H.path)&&(m=H)}if($){var g=c.after(e,B);g&&x&&p.isAncestor(x[1],g.path)&&(B=g)}var A=[],F;for(var S of c.nodes(e,{at:i,voids:u})){var[j,M]=S;F&&p.compare(M,F)===0||(!u&&c.isVoid(e,j)||!p.isCommon(M,m.path)&&!p.isCommon(M,B.path))&&(A.push(S),F=M)}var q=Array.from(A,oe=>{var[,Ne]=oe;return c.pathRef(e,Ne)}),K=c.pointRef(e,m),V=c.pointRef(e,B),Y="";if(!R&&!k){var Q=K.current,[ee]=c.leaf(e,Q),{path:he}=Q,{offset:ve}=m,ce=ee.text.slice(ve);ce.length>0&&(e.apply({type:"remove_text",path:he,offset:ve,text:ce}),Y=ce)}for(var G of q){var te=G.unref();b.removeNodes(e,{at:te,voids:u})}if(!$){var N=V.current,[_]=c.leaf(e,N),{path:T}=N,W=R?m.offset:0,z=_.text.slice(W,B.offset);z.length>0&&(e.apply({type:"remove_text",path:T,offset:W,text:z}),Y=z)}!R&&I&&V.current&&K.current&&b.mergeNodes(e,{at:V.current,hanging:!0,voids:u}),l&&t&&n==="character"&&Y.length>1&&Y.match(/[\u0E00-\u0E7F]+/)&&b.insertText(e,Y.slice(0,Y.length-a));var se=K.unref(),ge=V.unref(),de=t?se||ge:ge||se;r.at==null&&de&&b.select(e,de)}}})},insertFragment(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1}=t,{at:u=e.selection}=t;if(!!r.length){if(u)if(E.isRange(u))if(n||(u=c.unhangRange(e,u)),E.isCollapsed(u))u=u.anchor;else{var[,i]=E.edges(u);if(!a&&c.void(e,{at:i}))return;var s=c.pointRef(e,i);b.delete(e,{at:u}),u=s.unref()}else p.isPath(u)&&(u=c.start(e,u));else return;if(!(!a&&c.void(e,{at:u}))){var l=c.above(e,{at:u,match:G=>c.isInline(e,G),mode:"highest",voids:a});if(l){var[,v]=l;if(c.isEnd(e,u,v)){var h=c.after(e,v);u=h}else if(c.isStart(e,u,v)){var d=c.before(e,v);u=d}}var f=c.above(e,{match:G=>c.isBlock(e,G),at:u,voids:a}),[,o]=f,D=c.isStart(e,u,o),m=c.isEnd(e,u,o),B=D&&m,y=!D||D&&m,x=!m,[,I]=P.first({children:r},[]),[,R]=P.last({children:r},[]),k=[],$=G=>{var[te,N]=G,_=N.length===0;return _?!1:B?!0:!(y&&p.isAncestor(N,I)&&X.isElement(te)&&!e.isVoid(te)&&!e.isInline(te)||x&&p.isAncestor(N,R)&&X.isElement(te)&&!e.isVoid(te)&&!e.isInline(te))};for(var H of P.nodes({children:r},{pass:$}))$(H)&&k.push(H);var g=[],A=[],F=[],S=!0,j=!1;for(var[M]of k)X.isElement(M)&&!e.isInline(M)?(S=!1,j=!0,A.push(M)):S?g.push(M):F.push(M);var[q]=c.nodes(e,{at:u,match:G=>L.isText(G)||c.isInline(e,G),mode:"highest",voids:a}),[,K]=q,V=c.isStart(e,u,K),Y=c.isEnd(e,u,K),Q=c.pathRef(e,m&&!F.length?p.next(o):o),ee=c.pathRef(e,Y?p.next(K):K);b.splitNodes(e,{at:u,match:G=>j?c.isBlock(e,G):L.isText(G)||c.isInline(e,G),mode:j?"lowest":"highest",always:j&&(!D||g.length>0)&&(!m||F.length>0),voids:a});var he=c.pathRef(e,!V||V&&Y?p.next(K):K);if(b.insertNodes(e,g,{at:he.current,match:G=>L.isText(G)||c.isInline(e,G),mode:"highest",voids:a}),B&&!g.length&&A.length&&!F.length&&b.delete(e,{at:o,voids:a}),b.insertNodes(e,A,{at:Q.current,match:G=>c.isBlock(e,G),mode:"lowest",voids:a}),b.insertNodes(e,F,{at:ee.current,match:G=>L.isText(G)||c.isInline(e,G),mode:"highest",voids:a}),!t.at){var ve;if(F.length>0&&ee.current?ve=p.previous(ee.current):A.length>0&&Q.current?ve=p.previous(Q.current):he.current&&(ve=p.previous(he.current)),ve){var ce=c.end(e,ve);b.select(e,ce)}}he.unref(),Q.unref(),ee.unref()}}})},insertText(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.withoutNormalizing(e,()=>{var{voids:n=!1}=t,{at:a=e.selection}=t;if(!!a){if(p.isPath(a)&&(a=c.range(e,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&c.void(e,{at:u}))return;var i=E.start(a),s=c.pointRef(e,i),l=c.pointRef(e,u);b.delete(e,{at:a,voids:n});var v=s.unref(),h=l.unref();a=v||h,b.setSelection(e,{anchor:a,focus:a})}if(!(!n&&c.void(e,{at:a}))){var{path:d,offset:f}=a;r.length>0&&e.apply({type:"insert_text",path:d,offset:f,text:r})}}})}};function ai(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function kr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ai(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ai(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var b=kr(kr(kr(kr({},Ky),Yy),Zy),Jy),Qy={isHistory(e){return De(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||je.isOperationList(e.redos[0]))&&(e.undos.length===0||je.isOperationList(e.undos[0]))}},Mt=new WeakMap,Nt=new WeakMap,sr={isHistoryEditor(e){return Qy.isHistory(e.history)&&c.isEditor(e)},isMerging(e){return Nt.get(e)},isSaving(e){return Mt.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,r){var t=sr.isMerging(e);Nt.set(e,!1),r(),Nt.set(e,t)},withoutSaving(e,r){var t=sr.isSaving(e);Mt.set(e,!1),r(),Mt.set(e,t)}},eE=e=>{var r=e,{apply:t}=r;return r.history={undos:[],redos:[]},r.redo=()=>{var{history:n}=r,{redos:a}=n;if(a.length>0){var u=a[a.length-1];sr.withoutSaving(r,()=>{c.withoutNormalizing(r,()=>{for(var i of u)r.apply(i)})}),n.redos.pop(),n.undos.push(u)}},r.undo=()=>{var{history:n}=r,{undos:a}=n;if(a.length>0){var u=a[a.length-1];sr.withoutSaving(r,()=>{c.withoutNormalizing(r,()=>{var i=u.map(je.inverse).reverse();for(var s of i)r.apply(s)})}),n.redos.push(u),n.undos.pop()}},r.apply=n=>{var{operations:a,history:u}=r,{undos:i}=u,s=i[i.length-1],l=s&&s[s.length-1],v=nE(n,l),h=sr.isSaving(r),d=sr.isMerging(r);if(h==null&&(h=tE(n)),h){if(d==null&&(s==null?d=!1:a.length!==0?d=!0:d=rE(n,l)||v),s&&d)v&&s.pop(),s.push(n);else{var f=[n];i.push(f)}for(;i.length>100;)i.shift();aE(n)&&(u.redos=[])}t(n)},r},rE=(e,r)=>!!(e.type==="set_selection"||r&&e.type==="insert_text"&&r.type==="insert_text"&&e.offset===r.offset+r.text.length&&p.equals(e.path,r.path)||r&&e.type==="remove_text"&&r.type==="remove_text"&&e.offset+e.text.length===r.offset&&p.equals(e.path,r.path)),tE=(e,r)=>!(e.type==="set_selection"&&(e.properties==null||e.newProperties==null)),nE=(e,r)=>!!(r&&e.type==="set_selection"&&r.type==="set_selection"),aE=e=>e.type!=="set_selection",Ts=sE,Rs="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",Is="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",uE=new RegExp("^[^"+Is+"]*["+Rs+"]"),iE=new RegExp("^[^"+Rs+"]*["+Is+"]");function sE(e){return e=String(e||""),uE.test(e)?"rtl":iE.test(e)?"ltr":"neutral"}var oE=Ae,lE=function(){return oE.Date.now()},fE=lE,cE=_e,kt=fE,ui=Ui,vE="Expected a function",dE=Math.max,hE=Math.min;function gE(e,r,t){var n,a,u,i,s,l,v=0,h=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(vE);r=ui(r)||0,cE(t)&&(h=!!t.leading,d="maxWait"in t,u=d?dE(ui(t.maxWait)||0,r):u,f="trailing"in t?!!t.trailing:f);function o($){var H=n,g=a;return n=a=void 0,v=$,i=e.apply(g,H),i}function D($){return v=$,s=setTimeout(y,r),h?o($):i}function m($){var H=$-l,g=$-v,A=r-H;return d?hE(A,u-g):A}function B($){var H=$-l,g=$-v;return l===void 0||H>=r||H<0||d&&g>=u}function y(){var $=kt();if(B($))return x($);s=setTimeout(y,m($))}function x($){return s=void 0,f&&n?o($):(n=a=void 0,i)}function I(){s!==void 0&&clearTimeout(s),v=0,n=l=a=s=void 0}function R(){return s===void 0?i:x(kt())}function k(){var $=kt(),H=B($);if(n=arguments,a=this,l=$,H){if(s===void 0)return D(l);if(d)return clearTimeout(s),s=setTimeout(y,r),o(l)}return s===void 0&&(s=setTimeout(y,r)),i}return k.cancel=I,k.flush=R,k}var qn=gE,pE=qn,DE=_e,CE="Expected a function";function mE(e,r,t){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(CE);return DE(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),pE(e,r,{leading:n,maxWait:r,trailing:a})}var Ms=mE;function ii(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function si(e,r){return(!r||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Lt(e,r){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return si(t.overflowY,r)||si(t.overflowX,r)||function(n){var a=function(u){if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)}(e)}return!1}function Lr(e,r,t,n,a,u,i,s){return u<e&&i>r||u>e&&i<r?0:u<=e&&s<=t||i>=r&&s>=t?u-e-n:i>r&&s<t||u<e&&s>t?i-r+a:0}var oi=function(e,r){var t=window,n=r.scrollMode,a=r.block,u=r.inline,i=r.boundary,s=r.skipOverflowHiddenElements,l=typeof i=="function"?i:function(Ne){return Ne!==i};if(!ii(e))throw new TypeError("Invalid target");for(var v,h,d=document.scrollingElement||document.documentElement,f=[],o=e;ii(o)&&l(o);){if((o=(h=(v=o).parentElement)==null?v.getRootNode().host||null:h)===d){f.push(o);break}o!=null&&o===document.body&&Lt(o)&&!Lt(document.documentElement)||o!=null&&Lt(o,s)&&f.push(o)}for(var D=t.visualViewport?t.visualViewport.width:innerWidth,m=t.visualViewport?t.visualViewport.height:innerHeight,B=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,x=e.getBoundingClientRect(),I=x.height,R=x.width,k=x.top,$=x.right,H=x.bottom,g=x.left,A=a==="start"||a==="nearest"?k:a==="end"?H:k+I/2,F=u==="center"?g+R/2:u==="end"?$:g,S=[],j=0;j<f.length;j++){var M=f[j],q=M.getBoundingClientRect(),K=q.height,V=q.width,Y=q.top,Q=q.right,ee=q.bottom,he=q.left;if(n==="if-needed"&&k>=0&&g>=0&&H<=m&&$<=D&&k>=Y&&H<=ee&&g>=he&&$<=Q)return S;var ve=getComputedStyle(M),ce=parseInt(ve.borderLeftWidth,10),G=parseInt(ve.borderTopWidth,10),te=parseInt(ve.borderRightWidth,10),N=parseInt(ve.borderBottomWidth,10),_=0,T=0,W="offsetWidth"in M?M.offsetWidth-M.clientWidth-ce-te:0,z="offsetHeight"in M?M.offsetHeight-M.clientHeight-G-N:0,se="offsetWidth"in M?M.offsetWidth===0?0:V/M.offsetWidth:0,ge="offsetHeight"in M?M.offsetHeight===0?0:K/M.offsetHeight:0;if(d===M)_=a==="start"?A:a==="end"?A-m:a==="nearest"?Lr(y,y+m,m,G,N,y+A,y+A+I,I):A-m/2,T=u==="start"?F:u==="center"?F-D/2:u==="end"?F-D:Lr(B,B+D,D,ce,te,B+F,B+F+R,R),_=Math.max(0,_+y),T=Math.max(0,T+B);else{_=a==="start"?A-Y-G:a==="end"?A-ee+N+z:a==="nearest"?Lr(Y,ee,K,G,N+z,A,A+I,I):A-(Y+K/2)+z/2,T=u==="start"?F-he-ce:u==="center"?F-(he+V/2)+W/2:u==="end"?F-Q+te+W:Lr(he,Q,V,ce,te+W,F,F+R,R);var de=M.scrollLeft,oe=M.scrollTop;A+=oe-(_=Math.max(0,Math.min(oe+_/ge,M.scrollHeight-K/ge+z))),F+=de-(T=Math.max(0,Math.min(de+T/se,M.scrollWidth-V/se+W)))}S.push({el:M,top:_,left:T})}return S};function Ns(e){return e===Object(e)&&Object.keys(e).length!==0}function AE(e,r){r===void 0&&(r="auto");var t="scrollBehavior"in document.body.style;e.forEach(function(n){var a=n.el,u=n.top,i=n.left;a.scroll&&t?a.scroll({top:u,left:i,behavior:r}):(a.scrollTop=u,a.scrollLeft=i)})}function BE(e){return e===!1?{block:"end",inline:"nearest"}:Ns(e)?e:{block:"start",inline:"nearest"}}function ks(e,r){var t=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Ns(r)&&typeof r.behavior=="function")return r.behavior(t?oi(e,r):[]);if(!!t){var n=BE(r);return AE(oi(e,n),n.behavior)}}var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});var yE=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),jt={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},EE={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:yE?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Ls={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var jr=1;jr<20;jr++)Ls["f"+jr]=111+jr;function ct(e,r,t){r&&!("byKey"in r)&&(t=r,r=null),Array.isArray(e)||(e=[e]);var n=e.map(function(i){return js(i,r)}),a=function(s){return n.some(function(l){return Ws(l,s)})},u=t==null?a:a(t);return u}function FE(e,r){return ct(e,r)}function bE(e,r){return ct(e,{byKey:!0},r)}function js(e,r){var t=r&&r.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var i in jt)n[jt[i]]=!1;var s=!0,l=!1,v=void 0;try{for(var h=a[Symbol.iterator](),d;!(s=(d=h.next()).done);s=!0){var f=d.value,o=f.endsWith("?")&&f.length>1;o&&(f=f.slice(0,-1));var D=Vn(f),m=jt[D];(u===1||!m)&&(t?n.key=D:n.which=Hs(f)),m&&(n[m]=o?null:!0)}}catch(B){l=!0,v=B}finally{try{!s&&h.return&&h.return()}finally{if(l)throw v}}return n}function Ws(e,r){for(var t in e){var n=e[t],a=void 0;if(n!=null&&(t==="key"&&r.key!=null?a=r.key.toLowerCase():t==="which"?a=n===91&&r.which===93?91:r.which:a=r[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Hs(e){e=Vn(e);var r=Ls[e]||e.toUpperCase().charCodeAt(0);return r}function Vn(e){return e=e.toLowerCase(),e=EE[e]||e,e}Ie.default=ct;Ie.isHotkey=ct;Ie.isCodeHotkey=FE;var Wt=Ie.isKeyHotkey=bE;Ie.parseHotkey=js;Ie.compareHotkey=Ws;Ie.toKeyCode=Hs;Ie.toKeyName=Vn;function zs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wE(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function xr(e,r){if(e==null)return{};var t=wE(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}var xE=parseInt($r.version.split(".")[0],10)>=17,OE=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,li=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent),Yn=typeof navigator!="undefined"&&/Android/.test(navigator.userAgent),nn=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ht=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),$E=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Gs=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),_E=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),PE=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),SE=typeof navigator!="undefined"&&/.*QQBrowser/.test(navigator.userAgent),TE=typeof navigator!="undefined"&&/.*UCBrowser/.test(navigator.userAgent),RE=typeof navigator!="undefined"&&/.*Wechat/.test(navigator.userAgent),zr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",ke=!_E&&!$E&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",xe=zr?O.exports.useLayoutEffect:O.exports.useEffect,IE=e=>{var{isLast:r,leaf:t,parent:n,text:a}=e,u=ze(),i=w.findPath(u,a),s=p.parent(i);return u.isVoid(n)?C(zt,{length:P.string(n).length}):t.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&c.string(u,s)===""?C(zt,{isLineBreak:!0}):t.text===""?C(zt,{}):r&&t.text.slice(-1)===`
`?C(fi,{isTrailing:!0,text:t.text}):C(fi,{text:t.text})},fi=e=>{var{text:r,isTrailing:t=!1}=e,n=O.exports.useRef(null),a=()=>"".concat(r!=null?r:"").concat(t?`
`:"");return xe(()=>{var u=a();n.current&&n.current.textContent!==u&&(n.current.textContent=u)}),n.current?C("span",{"data-slate-string":!0,ref:n}):C("span",{"data-slate-string":!0,ref:n,children:a()})},zt=e=>{var{length:r=0,isLineBreak:t=!1}=e;return J("span",{"data-slate-zero-width":t?"n":"z","data-slate-length":r,children:["\uFEFF",t?C("br",{}):null]})},Xn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,Or=new WeakMap,gr=new WeakMap,He=new WeakMap,an=new WeakMap,vt=new WeakMap,dt=new WeakMap,we=new WeakMap,We=new WeakMap,un=new WeakMap,Br=new WeakMap,sn=new WeakMap,on=new WeakMap,ln=new WeakMap,Je=Symbol("placeholder"),ME=e=>{var{leaf:r,isLast:t,text:n,parent:a,renderPlaceholder:u,renderLeaf:i=d=>C(kE,{...Object.assign({},d)})}=e,s=O.exports.useRef(null);O.exports.useEffect(()=>{var d=s==null?void 0:s.current,f=document.querySelector('[data-slate-editor="true"]');if(!(!d||!f))return f.style.minHeight="".concat(d.clientHeight,"px"),()=>{f.style.minHeight="auto"}},[s,r]);var l=C(IE,{isLast:t,leaf:r,parent:a,text:n});if(r[Je]){var v={children:r.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:s}};l=J(Ye,{children:[u(v),l]})}var h={"data-slate-leaf":!0};return i({attributes:h,children:l,leaf:r,text:n})},NE=$r.memo(ME,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&L.equals(r.leaf,e.leaf)&&r.leaf[Je]===e.leaf[Je]),kE=e=>{var{attributes:r,children:t}=e;return C("span",{...Object.assign({},r),children:t})},LE=["anchor","focus"],jE=["anchor","focus"],WE=(e,r)=>Object.keys(e).length===Object.keys(r).length&&Object.keys(e).every(t=>r.hasOwnProperty(t)&&e[t]===r[t]),Us=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t],u=xr(n,LE),i=xr(a,jE);if(!E.equals(n,a)||n[Je]!==a[Je]||!WE(u,i))return!1}return!0};function Qn(e){var r=O.exports.useRef(0),t=O.exports.useRef(null),[,n]=O.exports.useState(0);return O.exports.useEffect(()=>(ln.set(e,()=>{t.current||(t.current=requestAnimationFrame(()=>{n(a=>a+1),t.current=null}),r.current++)}),()=>{ln.delete(e)}),[e]),t.current&&(cancelAnimationFrame(t.current),t.current=null),r.current}var HE=e=>{for(var{decorations:r,isLast:t,parent:n,renderPlaceholder:a,renderLeaf:u,text:i}=e,s=ze(),l=O.exports.useRef(null),v=L.decorations(i,r),h=w.findKey(s,i),d=[],f=0;f<v.length;f++){var o=v[f];d.push(C(NE,{isLast:t&&f===v.length-1,renderPlaceholder:a,leaf:o,text:i,parent:n,renderLeaf:u},"".concat(h.id,"-").concat(f)))}xe(()=>{var m=vt.get(s);l.current?(m==null||m.set(h,l.current),He.set(i,l.current),gr.set(l.current,i)):(m==null||m.delete(h),He.delete(i))});var D=Yn?Qn(i):void 0;return C("span",{"data-slate-node":"text",ref:l,children:d},D)},Ks=$r.memo(HE,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.text===e.text&&Us(r.decorations,e.decorations)),zE=e=>{var{decorations:r,element:t,renderElement:n=I=>C(UE,{...Object.assign({},I)}),renderPlaceholder:a,renderLeaf:u,selection:i}=e,s=O.exports.useRef(null),l=ze(),v=ZE(),h=l.isInline(t),d=w.findKey(l,t),f=ra({decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:i}),o={"data-slate-node":"element",ref:s};if(h&&(o["data-slate-inline"]=!0),!h&&c.hasInlines(l,t)){var D=P.string(t),m=Ts(D);m==="rtl"&&(o.dir=m)}if(c.isVoid(l,t)){o["data-slate-void"]=!0,!v&&h&&(o.contentEditable=!1);var B=h?"span":"div",[[y]]=P.texts(t);f=C(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"},children:C(Ks,{renderPlaceholder:a,decorations:[],isLast:!1,parent:t,text:y})}),Xn.set(y,0),Zn.set(y,t)}xe(()=>{var I=vt.get(l);s.current?(I==null||I.set(d,s.current),He.set(t,s.current),gr.set(s.current,t)):(I==null||I.delete(d),He.delete(t))});var x=n({attributes:o,children:f,element:t});return Yn?(Qn(t),C(Ye,{children:x})):x},GE=$r.memo(zE,(e,r)=>e.element===r.element&&e.renderElement===r.renderElement&&e.renderLeaf===r.renderLeaf&&Us(e.decorations,r.decorations)&&(e.selection===r.selection||!!e.selection&&!!r.selection&&E.equals(e.selection,r.selection))),UE=e=>{var{attributes:r,children:t,element:n}=e,a=ze(),u=a.isInline(n)?"span":"div";return C(u,{...Object.assign({},r,{style:{position:"relative"}}),children:t})},qs=O.exports.createContext(null),ze=()=>{var e=O.exports.useContext(qs);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},ea=O.exports.createContext(()=>[]),KE=()=>O.exports.useContext(ea),Vs=O.exports.createContext(!1),qE=()=>O.exports.useContext(Vs),ra=e=>{for(var{decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:i}=e,s=KE(),l=ze(),v=w.findPath(l,t),h=[],d=X.isElement(t)&&!l.isInline(t)&&c.hasInlines(l,t),f=0;f<t.children.length;f++){var o=v.concat(f),D=t.children[f],m=w.findKey(l,D),B=c.range(l,o),y=i&&E.intersection(B,i),x=s([D,o]);for(var I of r){var R=E.intersection(I,B);R&&x.push(R)}X.isElement(D)?h.push(C(Vs.Provider,{value:!!y,children:C(GE,{decorations:x,element:D,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:y},m.id)},"provider-".concat(m.id))):h.push(C(Ks,{decorations:x,isLast:d&&f===t.children.length-1,parent:t,renderPlaceholder:a,renderLeaf:u,text:D},m.id)),Xn.set(D,f),Zn.set(D,t)}return h},VE={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},YE={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},XE={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ue=e=>{var r=VE[e],t=YE[e],n=XE[e],a=r&&Wt(r),u=t&&Wt(t),i=n&&Wt(n);return s=>!!(a&&a(s)||li&&u&&u(s)||!li&&i&&i(s))},le={isBold:ue("bold"),isCompose:ue("compose"),isMoveBackward:ue("moveBackward"),isMoveForward:ue("moveForward"),isDeleteBackward:ue("deleteBackward"),isDeleteForward:ue("deleteForward"),isDeleteLineBackward:ue("deleteLineBackward"),isDeleteLineForward:ue("deleteLineForward"),isDeleteWordBackward:ue("deleteWordBackward"),isDeleteWordForward:ue("deleteWordForward"),isExtendBackward:ue("extendBackward"),isExtendForward:ue("extendForward"),isExtendLineBackward:ue("extendLineBackward"),isExtendLineForward:ue("extendLineForward"),isItalic:ue("italic"),isMoveLineBackward:ue("moveLineBackward"),isMoveLineForward:ue("moveLineForward"),isMoveWordBackward:ue("moveWordBackward"),isMoveWordForward:ue("moveWordForward"),isRedo:ue("redo"),isSoftBreak:ue("insertSoftBreak"),isSplitBlock:ue("splitBlock"),isTransposeCharacter:ue("transposeCharacter"),isUndo:ue("undo")},ta=O.exports.createContext(!1),ZE=()=>O.exports.useContext(ta),Ys=O.exports.createContext(null),Me=()=>{var e=O.exports.useContext(Ys);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[r]=e;return r},ht=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,JE=e=>Re(e)&&e.nodeType===8,ye=e=>Re(e)&&e.nodeType===1,Re=e=>{var r=ht(e);return!!r&&e instanceof r.Node},ci=e=>{var r=e&&e.anchorNode&&ht(e.anchorNode);return!!r&&e instanceof r.Selection},Xs=e=>Re(e)&&e.nodeType===3,QE=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,eF=e=>{var[r,t]=e;if(ye(r)&&r.childNodes.length){var n=t===r.childNodes.length,a=n?t-1:t;for([r,a]=Zs(r,a,n?"backward":"forward"),n=a<t;ye(r)&&r.childNodes.length;){var u=n?r.childNodes.length-1:0;r=tF(r,u,n?"backward":"forward")}t=n&&r.textContent!=null?r.textContent.length:0}return[r,t]},rF=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),Zs=(e,r,t)=>{for(var{childNodes:n}=e,a=n[r],u=r,i=!1,s=!1;(JE(a)||ye(a)&&a.childNodes.length===0||ye(a)&&a.getAttribute("contenteditable")==="false")&&!(i&&s);){if(u>=n.length){i=!0,u=r-1,t="backward";continue}if(u<0){s=!0,u=r+1,t="forward";continue}a=n[u],r=u,u+=t==="forward"?1:-1}return[a,r]},tF=(e,r,t)=>{var[n]=Zs(e,r,t);return n},Js=e=>{var r="";if(Xs(e)&&e.nodeValue)return e.nodeValue;if(ye(e)){for(var t of Array.from(e.childNodes))r+=Js(t);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(r+=`
`)}return r},nF=/data-slate-fragment="(.+?)"/m,Qs=e=>{var r=e.getData("text/html"),[,t]=r.match(nF)||[];return t},aF=e=>{if(!e.getData("application/x-slate-fragment")){var r=Qs(e);if(r){var t=new DataTransfer;return e.types.forEach(n=>{t.setData(n,e.getData(n))}),t.setData("application/x-slate-fragment",r),t}}return e},uF=3,iF=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function vi(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function di(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vi(Object(t),!0).forEach(function(n){zs(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vi(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var sF=e=>C(Ye,{children:ra(e)}),oF=e=>{var{autoFocus:r,decorate:t=ro,onDOMBeforeInput:n,placeholder:a,readOnly:u=!1,renderElement:i,renderLeaf:s,renderPlaceholder:l=g=>C(eo,{...Object.assign({},g)}),scrollSelectionIntoView:v=lF,style:h={},as:d="div"}=e,f=xr(e,iF),o=Me(),[D,m]=O.exports.useState(!1),B=O.exports.useRef(null),y=O.exports.useRef([]);dt.set(o,u);var x=O.exports.useMemo(()=>({hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[]);xe(()=>{var g;B.current&&(g=ht(B.current))?(Jn.set(o,g),Or.set(o,B.current),He.set(o,B.current),gr.set(B.current,o)):He.delete(o);var{selection:A}=o,F=w.findDocumentOrShadowRoot(o),S=F.getSelection();if(!(w.isComposing(o)||!S||!w.isFocused(o))){var j=S.type!=="None";if(!(!A&&!j)){var M=Or.get(o),q=!1;if(M.contains(S.anchorNode)&&M.contains(S.focusNode)&&(q=!0),j&&q&&A){var K=w.toSlateRange(o,S,{exactMatch:!0,suppressThrow:!0});if(K&&E.equals(K,A))return}if(A&&!w.hasRange(o,A)){o.selection=w.toSlateRange(o,S,{exactMatch:!1,suppressThrow:!1});return}x.isUpdatingSelection=!0;var V=A&&w.toDOMRange(o,A);V?(E.isBackward(A)?S.setBaseAndExtent(V.endContainer,V.endOffset,V.startContainer,V.startOffset):S.setBaseAndExtent(V.startContainer,V.startOffset,V.endContainer,V.endOffset),v(o,V)):S.removeAllRanges(),setTimeout(()=>{if(V&&nn){var Y=w.toDOMNode(o,o);Y.focus()}x.isUpdatingSelection=!1})}}}),O.exports.useEffect(()=>{B.current&&r&&B.current.focus()},[r]);var I=O.exports.useCallback(Ms(()=>{if(!w.isComposing(o)&&!x.isUpdatingSelection&&!x.isDraggingInternally){var g=w.findDocumentOrShadowRoot(o),{activeElement:A}=g,F=w.toDOMNode(o,o),S=g.getSelection();if(A===F?(x.latestElement=A,we.set(o,!0)):we.delete(o),!S)return b.deselect(o);var{anchorNode:j,focusNode:M}=S,q=ie(o,j)||et(o,j),K=ie(o,M)||et(o,M);if(q&&K){var V=w.toSlateRange(o,S,{exactMatch:!1,suppressThrow:!1});b.select(o,V)}}},100),[u]),R=O.exports.useMemo(()=>qn(I,0),[I]),k=O.exports.useCallback(g=>{if(!u&&ie(o,g.target)&&!to(g,n)){var A;R.flush(),I.flush();var{selection:F}=o,{inputType:S}=g,j=g.dataTransfer||g.data||void 0;if(S==="insertCompositionText"||S==="deleteCompositionText")return;var M=!1;if(S==="insertText"&&F&&E.isCollapsed(F)&&g.data&&g.data.length===1&&/[a-z ]/i.test(g.data)&&F.anchor.offset!==0){var q;M=!0,o.marks&&(M=!1);var{anchor:K}=F,[V,Y]=w.toDOMPoint(o,K),Q=(q=V.parentElement)===null||q===void 0?void 0:q.closest("a");if(Q&&w.hasDOMNode(o,Q)){var ee,{document:he}=w.getWindow(o),ve=he.createTreeWalker(Q,NodeFilter.SHOW_TEXT).lastChild();ve===V&&((ee=ve.textContent)===null||ee===void 0?void 0:ee.length)===Y&&(M=!1)}}if(!S.startsWith("delete")||S.startsWith("deleteBy")){var[ce]=g.getTargetRanges();if(ce){var G=w.toSlateRange(o,ce,{exactMatch:!1,suppressThrow:!1});if(!F||!E.equals(F,G)){M=!1;var te=o.selection&&c.rangeRef(o,o.selection);b.select(o,G),te&&Br.set(o,te)}}}if(M||g.preventDefault(),F&&E.isExpanded(F)&&S.startsWith("delete")){var N=S.endsWith("Backward")?"backward":"forward";c.deleteFragment(o,{direction:N});return}switch(S){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{c.deleteFragment(o);break}case"deleteContent":case"deleteContentForward":{c.deleteForward(o);break}case"deleteContentBackward":{c.deleteBackward(o);break}case"deleteEntireSoftLine":{c.deleteBackward(o,{unit:"line"}),c.deleteForward(o,{unit:"line"});break}case"deleteHardLineBackward":{c.deleteBackward(o,{unit:"block"});break}case"deleteSoftLineBackward":{c.deleteBackward(o,{unit:"line"});break}case"deleteHardLineForward":{c.deleteForward(o,{unit:"block"});break}case"deleteSoftLineForward":{c.deleteForward(o,{unit:"line"});break}case"deleteWordBackward":{c.deleteBackward(o,{unit:"word"});break}case"deleteWordForward":{c.deleteForward(o,{unit:"word"});break}case"insertLineBreak":c.insertSoftBreak(o);break;case"insertParagraph":{c.insertBreak(o);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{var{selection:_}=o;_&&E.isExpanded(_)&&c.deleteFragment(o),S==="insertFromComposition"&&w.isComposing(o)&&(m(!1),We.set(o,!1)),(j==null?void 0:j.constructor.name)==="DataTransfer"?w.insertData(o,j):typeof j=="string"&&(M?y.current.push(()=>c.insertText(o,j)):c.insertText(o,j));break}}var T=(A=Br.get(o))===null||A===void 0?void 0:A.unref();Br.delete(o),T&&(!o.selection||!E.equals(o.selection,T))&&b.select(o,T)}},[u,n]);xe(()=>(B.current&&ke&&B.current.addEventListener("beforeinput",k),()=>{B.current&&ke&&B.current.removeEventListener("beforeinput",k)}),[k]),xe(()=>{var g=w.getWindow(o);return g.document.addEventListener("selectionchange",R),()=>{g.document.removeEventListener("selectionchange",R)}},[R]);var $=t([o,[]]);if(a&&o.children.length===1&&Array.from(P.texts(o)).length===1&&P.string(o)===""&&!D){var H=c.start(o,[]);$.push({[Je]:!0,placeholder:a,anchor:H,focus:H})}return C(ta.Provider,{value:u,children:C(ea.Provider,{value:t,children:C(d,{...Object.assign({role:u?void 0:"textbox"},f,{spellCheck:ke||!zr?f.spellCheck:!1,autoCorrect:ke||!zr?f.autoCorrect:"false",autoCapitalize:ke||!zr?f.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!u,zindex:-1,suppressContentEditableWarning:!0,ref:B,style:di({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},h),onBeforeInput:O.exports.useCallback(g=>{if(!ke&&!u&&!fe(g,f.onBeforeInput)&&ie(o,g.target)&&(g.preventDefault(),!w.isComposing(o))){var A=g.data;c.insertText(o,A)}},[u]),onInput:O.exports.useCallback(g=>{for(var A of y.current)A();y.current=[]},[]),onBlur:O.exports.useCallback(g=>{if(!(u||x.isUpdatingSelection||!ie(o,g.target)||fe(g,f.onBlur))){var A=w.findDocumentOrShadowRoot(o);if(x.latestElement!==A.activeElement){var{relatedTarget:F}=g,S=w.toDOMNode(o,o);if(F!==S&&!(ye(F)&&F.hasAttribute("data-slate-spacer"))){if(F!=null&&Re(F)&&w.hasDOMNode(o,F)){var j=w.toSlateNode(o,F);if(X.isElement(j)&&!o.isVoid(j))return}if(Ht){var M=A.getSelection();M==null||M.removeAllRanges()}we.delete(o)}}}},[u,f.onBlur]),onClick:O.exports.useCallback(g=>{if(Ve(o,g.target)&&!fe(g,f.onClick)&&Re(g.target)){var A=w.toSlateNode(o,g.target),F=w.findPath(o,A);if(!c.hasPath(o,F)||P.get(o,F)!==A)return;if(g.detail===uF&&F.length>=1){var S=F;if(!c.isBlock(o,A)){var j,M=c.above(o,{match:he=>c.isBlock(o,he),at:F});S=(j=M==null?void 0:M[1])!==null&&j!==void 0?j:F.slice(0,1)}var q=c.range(o,S);b.select(o,q);return}if(u)return;var K=c.start(o,F),V=c.end(o,F),Y=c.void(o,{at:K}),Q=c.void(o,{at:V});if(Y&&Q&&p.equals(Y[1],Q[1])){var ee=c.range(o,K);b.select(o,ee)}}},[u,f.onClick]),onCompositionEnd:O.exports.useCallback(g=>{if(ie(o,g.target)&&!fe(g,f.onCompositionEnd)&&(w.isComposing(o)&&(m(!1),We.set(o,!1)),!Ht&&!PE&&!OE&&!SE&&!RE&&!TE&&g.data&&c.insertText(o,g.data),o.selection&&E.isCollapsed(o.selection))){var A=o.selection.anchor.path,F=P.leaf(o,A);x.hasInsertPrefixInCompositon&&(x.hasInsertPrefixInCompositon=!1,c.withoutNormalizing(o,()=>{var S=F.text.replace(/^\uFEFF/,"");b.delete(o,{distance:F.text.length,reverse:!0}),c.insertText(o,S)}))}},[f.onCompositionEnd]),onCompositionUpdate:O.exports.useCallback(g=>{ie(o,g.target)&&!fe(g,f.onCompositionUpdate)&&(w.isComposing(o)||(m(!0),We.set(o,!0)))},[f.onCompositionUpdate]),onCompositionStart:O.exports.useCallback(g=>{if(ie(o,g.target)&&!fe(g,f.onCompositionStart)){var{selection:A,marks:F}=o;if(A){if(E.isExpanded(A)){c.deleteFragment(o);return}var S=c.above(o,{match:q=>c.isInline(o,q),mode:"highest"});if(S){var[,j]=S;if(c.isEnd(o,A.anchor,j)){var M=c.after(o,j);b.setSelection(o,{anchor:M,focus:M})}}F&&(x.hasInsertPrefixInCompositon=!0,b.insertNodes(o,di({text:"\uFEFF"},F),{select:!0}))}}},[f.onCompositionStart]),onCopy:O.exports.useCallback(g=>{ie(o,g.target)&&!fe(g,f.onCopy)&&(g.preventDefault(),w.setFragmentData(o,g.clipboardData,"copy"))},[f.onCopy]),onCut:O.exports.useCallback(g=>{if(!u&&ie(o,g.target)&&!fe(g,f.onCut)){g.preventDefault(),w.setFragmentData(o,g.clipboardData,"cut");var{selection:A}=o;if(A)if(E.isExpanded(A))c.deleteFragment(o);else{var F=P.parent(o,A.anchor.path);c.isVoid(o,F)&&b.delete(o)}}},[u,f.onCut]),onDragOver:O.exports.useCallback(g=>{if(Ve(o,g.target)&&!fe(g,f.onDragOver)){var A=w.toSlateNode(o,g.target);c.isVoid(o,A)&&g.preventDefault()}},[f.onDragOver]),onDragStart:O.exports.useCallback(g=>{if(!u&&Ve(o,g.target)&&!fe(g,f.onDragStart)){var A=w.toSlateNode(o,g.target),F=w.findPath(o,A),S=c.isVoid(o,A)||c.void(o,{at:F,voids:!0});if(S){var j=c.range(o,F);b.select(o,j)}x.isDraggingInternally=!0,w.setFragmentData(o,g.dataTransfer,"drag")}},[u,f.onDragStart]),onDrop:O.exports.useCallback(g=>{if(!u&&Ve(o,g.target)&&!fe(g,f.onDrop)){g.preventDefault();var A=o.selection,F=w.findEventRange(o,g),S=g.dataTransfer;b.select(o,F),x.isDraggingInternally&&A&&!E.equals(A,F)&&!c.void(o,{at:F,voids:!0})&&b.delete(o,{at:A}),w.insertData(o,S),w.isFocused(o)||w.focus(o)}x.isDraggingInternally=!1},[u,f.onDrop]),onDragEnd:O.exports.useCallback(g=>{!u&&x.isDraggingInternally&&f.onDragEnd&&Ve(o,g.target)&&f.onDragEnd(g),x.isDraggingInternally=!1},[u,f.onDragEnd]),onFocus:O.exports.useCallback(g=>{if(!u&&!x.isUpdatingSelection&&ie(o,g.target)&&!fe(g,f.onFocus)){var A=w.toDOMNode(o,o),F=w.findDocumentOrShadowRoot(o);if(x.latestElement=F.activeElement,nn&&g.target!==A){A.focus();return}we.set(o,!0)}},[u,f.onFocus]),onKeyDown:O.exports.useCallback(g=>{if(!u&&ie(o,g.target)){var{nativeEvent:A}=g;if(w.isComposing(o)&&A.isComposing===!1&&(We.set(o,!1),m(!1)),fe(g,f.onKeyDown)||w.isComposing(o))return;var{selection:F}=o,S=o.children[F!==null?F.focus.path[0]:0],j=Ts(P.string(S))==="rtl";if(le.isRedo(A)){g.preventDefault();var M=o;typeof M.redo=="function"&&M.redo();return}if(le.isUndo(A)){g.preventDefault();var q=o;typeof q.undo=="function"&&q.undo();return}if(le.isMoveLineBackward(A)){g.preventDefault(),b.move(o,{unit:"line",reverse:!0});return}if(le.isMoveLineForward(A)){g.preventDefault(),b.move(o,{unit:"line"});return}if(le.isExtendLineBackward(A)){g.preventDefault(),b.move(o,{unit:"line",edge:"focus",reverse:!0});return}if(le.isExtendLineForward(A)){g.preventDefault(),b.move(o,{unit:"line",edge:"focus"});return}if(le.isMoveBackward(A)){g.preventDefault(),F&&E.isCollapsed(F)?b.move(o,{reverse:!j}):b.collapse(o,{edge:"start"});return}if(le.isMoveForward(A)){g.preventDefault(),F&&E.isCollapsed(F)?b.move(o,{reverse:j}):b.collapse(o,{edge:"end"});return}if(le.isMoveWordBackward(A)){g.preventDefault(),F&&E.isExpanded(F)&&b.collapse(o,{edge:"focus"}),b.move(o,{unit:"word",reverse:!j});return}if(le.isMoveWordForward(A)){g.preventDefault(),F&&E.isExpanded(F)&&b.collapse(o,{edge:"focus"}),b.move(o,{unit:"word",reverse:j});return}if(ke){if((Gs||Ht)&&F&&(le.isDeleteBackward(A)||le.isDeleteForward(A))&&E.isCollapsed(F)){var K=P.parent(o,F.anchor.path);if(X.isElement(K)&&c.isVoid(o,K)&&c.isInline(o,K)){g.preventDefault(),c.deleteBackward(o,{unit:"block"});return}}}else{if(le.isBold(A)||le.isItalic(A)||le.isTransposeCharacter(A)){g.preventDefault();return}if(le.isSoftBreak(A)){g.preventDefault(),c.insertSoftBreak(o);return}if(le.isSplitBlock(A)){g.preventDefault(),c.insertBreak(o);return}if(le.isDeleteBackward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"backward"}):c.deleteBackward(o);return}if(le.isDeleteForward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"forward"}):c.deleteForward(o);return}if(le.isDeleteLineBackward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"backward"}):c.deleteBackward(o,{unit:"line"});return}if(le.isDeleteLineForward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"forward"}):c.deleteForward(o,{unit:"line"});return}if(le.isDeleteWordBackward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"backward"}):c.deleteBackward(o,{unit:"word"});return}if(le.isDeleteWordForward(A)){g.preventDefault(),F&&E.isExpanded(F)?c.deleteFragment(o,{direction:"forward"}):c.deleteForward(o,{unit:"word"});return}}}},[u,f.onKeyDown]),onPaste:O.exports.useCallback(g=>{!u&&ie(o,g.target)&&!fe(g,f.onPaste)&&(!ke||QE(g.nativeEvent))&&(g.preventDefault(),w.insertData(o,g.clipboardData))},[u,f.onPaste])}),children:C(sF,{decorations:$,node:o,renderElement:i,renderPlaceholder:l,renderLeaf:s,selection:o.selection})})})})},eo=e=>{var{attributes:r,children:t}=e;return C("span",{...Object.assign({},r),children:t})},ro=()=>[],lF=(e,r)=>{if(!e.selection||e.selection&&E.isCollapsed(e.selection)){var t=r.startContainer.parentElement;t.getBoundingClientRect=r.getBoundingClientRect.bind(r),ks(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Ve=(e,r)=>Re(r)&&w.hasDOMNode(e,r),ie=(e,r)=>Re(r)&&w.hasDOMNode(e,r,{editable:!0}),et=(e,r)=>{if(dt.get(e))return!1;var t=Ve(e,r)&&w.toSlateNode(e,r);return c.isVoid(e,t)},fe=(e,r)=>{if(!r)return!1;var t=r(e);return t!=null?t:e.isDefaultPrevented()||e.isPropagationStopped()},to=(e,r)=>{if(!r)return!1;var t=r(e);return t!=null?t:e.defaultPrevented};function fF(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++)if(e.charAt(n)!==r.charAt(n))return n;return e.length!==r.length?t:null}function cF(e,r,t){for(var n=e.length,a=r.length,u=Math.min(n,a,t),i=0;i<u;i++){var s=e.charAt(n-i-1),l=r.charAt(a-i-1);if(s!==l)return i}return e.length!==r.length?u:null}function vF(e,r){if(e===r)return null;var t=fF(e,r);if(t===null)return null;var n=Math.min(e.length-t,r.length-t),a=cF(e,r,n);return a===null?null:{start:t,end:a}}function hi(e,r){return e.slice(r.start,e.length-r.end)}function dF(e,r){if(e===void 0||r===void 0)return null;var t=vF(e,r);if(t==null)return null;var n=hi(r,t),a=hi(e,t);return{start:t.start,end:e.length-t.end,insertText:n,removeText:a}}function hF(e){return e.reduce((r,t)=>{var{text:n}=t;return"".concat(r).concat(n.insertText)},"")}function gF(e,r){var t=w.toSlateNode(e,r);if(!!L.isText(t)){var n=t.text,a=r.textContent;if(a.endsWith(`
`)&&(a=a.slice(0,a.length-1)),a!==n){var u=dF(n,a);if(u!==null){var i=w.findPath(e,t);return{text:u,path:i}}}}}function no(e,r,t){var{path:n,text:a}=t,u={anchor:{path:n,offset:a.start},focus:{path:n,offset:a.end}};if(!r||!E.isCollapsed(r))return u;var{insertText:i,removeText:s}=a,l=i.length===1||s.length===1;if(l&&p.equals(r.anchor.path,n)){var[v]=Array.from(c.nodes(e,{at:r,match:L.isText}));if(v){var[h]=v,{anchor:d}=r,f=h.text[d.offset-1],o=h.text[d.offset];if(i.length===1&&i===o)return r;if(s.length===1&&s===f)return{anchor:{path:n,offset:d.offset-1},focus:{path:n,offset:d.offset}}}}return u}var pF=0;class DF{constructor(){this.id="".concat(pF++)}}var w={isComposing(e){return!!We.get(e)},getWindow(e){var r=Jn.get(e);if(!r)throw new Error("Unable to find a host window element for this editor");return r},findKey(e,r){var t=an.get(r);return t||(t=new DF,an.set(r,t)),t},findPath(e,r){for(var t=[],n=r;;){var a=Zn.get(n);if(a==null){if(c.isEditor(n))return t;break}var u=Xn.get(n);if(u==null)break;t.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(Ce.stringify(r)))},findDocumentOrShadowRoot(e){var r=w.toDOMNode(e,e),t=r.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:r.ownerDocument},isFocused(e){return!!we.get(e)},isReadOnly(e){return!!dt.get(e)},blur(e){var r=w.toDOMNode(e,e),t=w.findDocumentOrShadowRoot(e);we.set(e,!1),t.activeElement===r&&r.blur()},focus(e){var r=w.toDOMNode(e,e),t=w.findDocumentOrShadowRoot(e);we.set(e,!0),t.activeElement!==r&&r.focus({preventScroll:!0})},deselect(e){w.toDOMNode(e,e);var{selection:r}=e,t=w.findDocumentOrShadowRoot(e),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),r&&b.deselect(e)},hasDOMNode(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:n=!1}=t,a=w.toDOMNode(e,e),u;try{u=ye(r)?r:r.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return u?u.closest("[data-slate-editor]")===a&&(!n||u.isContentEditable?!0:typeof u.isContentEditable=="boolean"&&u.closest('[contenteditable="false"]')===a||!!u.getAttribute("data-slate-zero-width")):!1},insertData(e,r){e.insertData(r)},insertFragmentData(e,r){return e.insertFragmentData(r)},insertTextData(e,r){return e.insertTextData(r)},setFragmentData(e,r,t){e.setFragmentData(r,t)},toDOMNode(e,r){var t=vt.get(e),n=c.isEditor(r)?Or.get(e):t==null?void 0:t.get(w.findKey(e,r));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Ce.stringify(r)));return n},toDOMPoint(e,r){var[t]=c.node(e,r.path),n=w.toDOMNode(e,t),a;c.void(e,{at:r})&&(r={path:r.path,offset:0});var u="[data-slate-string], [data-slate-zero-width]",i=Array.from(n.querySelectorAll(u)),s=0;for(var l of i){var v=l.childNodes[0];if(!(v==null||v.textContent==null)){var{length:h}=v.textContent,d=l.getAttribute("data-slate-length"),f=d==null?h:parseInt(d,10),o=s+f;if(r.offset<=o){var D=Math.min(h,Math.max(0,r.offset-s));a=[v,D];break}s=o}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Ce.stringify(r)));return a},toDOMRange(e,r){var{anchor:t,focus:n}=r,a=E.isBackward(r),u=w.toDOMPoint(e,t),i=E.isCollapsed(r)?u:w.toDOMPoint(e,n),s=w.getWindow(e),l=s.document.createRange(),[v,h]=a?i:u,[d,f]=a?u:i,o=ye(v)?v:v.parentElement,D=!!o.getAttribute("data-slate-zero-width"),m=ye(d)?d:d.parentElement,B=!!m.getAttribute("data-slate-zero-width");return l.setStart(v,D?1:h),l.setEnd(d,B?1:f),l},toSlateNode(e,r){var t=ye(r)?r:r.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?gr.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},findEventRange(e,r){"nativeEvent"in r&&(r=r.nativeEvent);var{clientX:t,clientY:n,target:a}=r;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var u=w.toSlateNode(e,r.target),i=w.findPath(e,u);if(c.isVoid(e,u)){var s=a.getBoundingClientRect(),l=e.isInline(u)?t-s.left<s.left+s.width-t:n-s.top<s.top+s.height-n,v=c.point(e,i,{edge:l?"start":"end"}),h=l?c.before(e,v):c.after(e,v);if(h){var d=c.range(e,h);return d}}var f,{document:o}=w.getWindow(e);if(o.caretRangeFromPoint)f=o.caretRangeFromPoint(t,n);else{var D=o.caretPositionFromPoint(t,n);D&&(f=o.createRange(),f.setStart(D.offsetNode,D.offset),f.setEnd(D.offsetNode,D.offset))}if(!f)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var m=w.toSlateRange(e,f,{exactMatch:!1,suppressThrow:!1});return m},toSlatePoint(e,r,t){var{exactMatch:n,suppressThrow:a}=t,[u,i]=n?r:eF(r),s=u.parentNode,l=null,v=0;if(s){var h,d=w.toDOMNode(e,e),f=s.closest('[data-slate-void="true"]'),o=f&&d.contains(f)?f:null,D=s.closest("[data-slate-leaf]"),m=null;if(D){if(l=D.closest('[data-slate-node="text"]'),l){var B=w.getWindow(e),y=B.document.createRange();y.setStart(l,0),y.setEnd(u,i);var x=y.cloneContents(),I=[...Array.prototype.slice.call(x.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(x.querySelectorAll("[contenteditable=false]"))];I.forEach($=>{$.parentNode.removeChild($)}),v=x.textContent.length,m=l}}else o&&(D=o.querySelector("[data-slate-leaf]"),D?(l=D.closest('[data-slate-node="text"]'),m=D,v=m.textContent.length,m.querySelectorAll("[data-slate-zero-width]").forEach($=>{v-=$.textContent.length})):v=1);m&&v===m.textContent.length&&(s.hasAttribute("data-slate-zero-width")||nn&&(h=m.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&v--}if(!l){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(r))}var R=w.toSlateNode(e,l),k=w.findPath(e,R);return{path:k,offset:v}},toSlateRange(e,r,t){var{exactMatch:n,suppressThrow:a}=t,u=ci(r)?r.anchorNode:r.startContainer,i,s,l,v,h;if(u&&(ci(r)?(i=r.anchorNode,s=r.anchorOffset,l=r.focusNode,v=r.focusOffset,Gs&&rF()?h=r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset:h=r.isCollapsed):(i=r.startContainer,s=r.startOffset,l=r.endContainer,v=r.endOffset,h=r.collapsed)),i==null||l==null||s==null||v==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(r));var d=w.toSlatePoint(e,[i,s],{exactMatch:n,suppressThrow:a});if(!d)return null;var f=h?d:w.toSlatePoint(e,[l,v],{exactMatch:n,suppressThrow:a});if(!f)return null;var o={anchor:d,focus:f};return E.isExpanded(o)&&E.isForward(o)&&ye(l)&&c.void(e,{at:o.focus,mode:"highest"})&&(o=c.unhangRange(e,o,{voids:!0})),o},hasRange(e,r){var{anchor:t,focus:n}=r;return c.hasPath(e,t.path)&&c.hasPath(e,n.path)}};function CF(e,r){var t=[],n=[],a=[],u=[];return r.forEach(i=>{switch(i.type){case"childList":{i.addedNodes.length&&i.addedNodes.forEach(v=>{t.push(v)}),i.removedNodes.forEach(v=>{n.push(v)});break}case"characterData":{u.push(i);var{parentNode:s}=i.target;if(!s)return;var l=gF(e,s);if(!l||a.some(v=>{var{path:h}=v;return p.equals(h,l.path)}))return;a.push(l)}}}),{addedNodes:t,removedNodes:n,insertedText:a,characterDataMutations:u}}var mF=(e,r)=>{var{addedNodes:t}=r,{selection:n}=e,a=n?P.parent(e,n.anchor.path):null,u=a?w.toDOMNode(e,a):null;return u?t.some(i=>i instanceof HTMLElement&&i.tagName===(u==null?void 0:u.tagName)):!1},AF=(e,r)=>{var{removedNodes:t}=r;return t.length>0},BF=(e,r)=>{var{selection:t}=e,{removedNodes:n}=r;return t?E.isExpanded(t)&&n.length>0:!1},yF=(e,r)=>{var{insertedText:t}=r;return t.length>0},EF=(e,r)=>{var{addedNodes:t,characterDataMutations:n,removedNodes:a}=r;return a.length>0&&t.length===0&&n.length>0};class FF{constructor(r,t){this.editor=r,this.restoreDOM=t,this.flush=n=>{try{this.reconcileMutations(n)}catch(a){console.error(a),this.restoreDOM()}},this.reconcileMutations=n=>{var a=CF(this.editor,n),{insertedText:u,removedNodes:i}=a;if(BF(this.editor,a)){var s=hF(u);this.replaceExpandedSelection(s)}else mF(this.editor,a)?this.insertBreak():EF(this.editor,a)?this.removeLeafNodes(i):AF(this.editor,a)?this.deleteBackward():yF(this.editor,a)&&this.insertText(u)},this.insertText=n=>{var{selection:a}=this.editor;if(w.isComposing(this.editor)||un.get(this.editor)){sn.set(this.editor,n),un.set(this.editor,!1);return}n.forEach(u=>{var i=u.text.insertText,s=no(this.editor,a,u);b.setSelection(this.editor,s),c.insertText(this.editor,i)})},this.insertBreak=()=>{var{selection:n}=this.editor;c.insertBreak(this.editor),this.restoreDOM(),n&&setTimeout(()=>{this.editor.selection&&E.equals(n,this.editor.selection)&&b.move(this.editor)},100)},this.replaceExpandedSelection=n=>{c.deleteFragment(this.editor),n.length&&c.insertText(this.editor,n),this.restoreDOM()},this.deleteBackward=()=>{c.deleteBackward(this.editor),w.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=n=>{for(var a of n){var u=w.toSlateNode(this.editor,a);if(u){var i=w.findPath(this.editor,u);b.delete(this.editor,{at:i}),this.restoreDOM()}}},this.editor=r,this.restoreDOM=t}}function ao(e,r,t){var[n]=O.exports.useState(()=>new MutationObserver(r));xe(()=>{n.disconnect()}),O.exports.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,t),n.disconnect.bind(n)})}var bF={childList:!0,characterData:!0,subtree:!0};function uo(e){var r,t=ye(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t&&gr.get(t);return n||((r=t)!==null&&r!==void 0&&r.parentElement?uo(t.parentElement):null)}function wF(e,r){var t=ze(),n=O.exports.useRef(new Set),a=O.exports.useCallback(i=>{!r.current||i.forEach(s=>{var{target:l}=s,v=uo(l);if(!!v)return n.current.add(v)})},[]);ao(e,a,bF),n.current.clear();var u=O.exports.useCallback(()=>{var i=Array.from(n.current.values()),s=i.filter(l=>!i.some(v=>p.isParent(w.findPath(t,v),w.findPath(t,l))));s.forEach(l=>{var v;(v=ln.get(l))===null||v===void 0||v()}),n.current.clear()},[]);return u}function xF(){var e=ze(),r=O.exports.useRef(!1),t=O.exports.useRef(null),n=O.exports.useCallback(()=>{if(r.current===!1){var a=w.getWindow(e);r.current=!0,t.current&&a.cancelAnimationFrame(t.current),t.current=a.requestAnimationFrame(()=>{r.current=!1,t.current=null})}},[]);return O.exports.useEffect(()=>{r.current&&(r.current=!1)}),{receivedUserInput:r,onUserInput:n}}var OF={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function $F(e){var r=ze(),{receivedUserInput:t,onUserInput:n}=xF(),a=wF(e,t),u=O.exports.useMemo(()=>new FF(r,a),[a,r]),i=O.exports.useRef(null),s=O.exports.useRef(!1),l=O.exports.useCallback(v=>{!t.current||(s.current=!0,u.flush(v),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{s.current=!1,i.current=null},250))},[]);return ao(e,l,OF),{isReconciling:s,onUserInput:n}}var _F=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function gi(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function PF(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gi(Object(t),!0).forEach(function(n){zs(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gi(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var SF=20,TF=e=>{var{autoFocus:r,decorate:t=ro,onDOMBeforeInput:n,placeholder:a,readOnly:u=!1,renderElement:i,renderLeaf:s,renderPlaceholder:l=g=>C(eo,{...Object.assign({},g)}),style:v={},as:h="div"}=e,d=xr(e,_F),f=Me(),[o,D]=O.exports.useState(!1),m=O.exports.useRef(null),B=$F(m);dt.set(f,u);var y=O.exports.useMemo(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]),x=Qn(f);xe(()=>{var g;m.current&&(g=ht(m.current))?(Jn.set(f,g),Or.set(f,m.current),He.set(f,m.current),gr.set(m.current,f)):He.delete(f);try{var{selection:A}=f,F=w.findDocumentOrShadowRoot(f),S=F.getSelection();if(y.isComposing||!S||!w.isFocused(f))return;var j=S.type!=="None";if(!A&&!j)return;var M=Or.get(f),q=!1;if(M.contains(S.anchorNode)&&M.contains(S.focusNode)&&(q=!0),j&&q&&A){var K=w.toSlateRange(f,S,{exactMatch:!0,suppressThrow:!0});if(K&&E.equals(K,A))return}if(A&&!w.hasRange(f,A)){f.selection=w.toSlateRange(f,S,{exactMatch:!1,suppressThrow:!1});return}var V=w.toDOMNode(f,f);y.isUpdatingSelection=!0;var Y=A&&w.toDOMRange(f,A);if(Y){E.isBackward(A)?S.setBaseAndExtent(Y.endContainer,Y.endOffset,Y.startContainer,Y.startOffset):S.setBaseAndExtent(Y.startContainer,Y.startOffset,Y.endContainer,Y.endOffset);var Q=Y.startContainer.parentElement;Q.getBoundingClientRect=Y.getBoundingClientRect.bind(Y),ks(Q,{scrollMode:"if-needed",boundary:V}),delete Q.getBoundingClientRect}else S.removeAllRanges();setTimeout(()=>{y.isUpdatingSelection=!1})}catch{y.isUpdatingSelection=!1}}),O.exports.useEffect(()=>{m.current&&r&&m.current.focus()},[r]);var I=O.exports.useCallback(Ms(()=>{try{if(!y.isComposing&&!y.isUpdatingSelection&&!B.isReconciling.current){var g=w.findDocumentOrShadowRoot(f),{activeElement:A}=g,F=w.toDOMNode(f,f),S=g.getSelection();if(A===F?(y.latestElement=A,we.set(f,!0)):we.delete(f),!S)return b.deselect(f);var{anchorNode:j,focusNode:M}=S,q=ie(f,j)||et(f,j),K=ie(f,M)||et(f,M);if(q&&K){var V=w.toSlateRange(f,S,{exactMatch:!1,suppressThrow:!1});b.select(f,V)}else b.deselect(f)}}catch{}},100),[u]),R=O.exports.useMemo(()=>qn(I,0),[I]),k=O.exports.useCallback(g=>{!u&&ie(f,g.target)&&!to(g,n)&&(R.flush(),B.onUserInput())},[u,n]);xe(()=>{var g=m.current;return g==null||g.addEventListener("beforeinput",k),()=>g==null?void 0:g.removeEventListener("beforeinput",k)},[x,n]),xe(()=>{var g=w.getWindow(f);return g.document.addEventListener("selectionchange",R),()=>{g.document.removeEventListener("selectionchange",R)}},[R]);var $=t([f,[]]);if(a&&f.children.length===1&&Array.from(P.texts(f)).length===1&&P.string(f)===""&&!o){var H=c.start(f,[]);$.push({[Je]:!0,placeholder:a,anchor:H,focus:H})}return C(ta.Provider,{value:u,children:C(ea.Provider,{value:t,children:C(h,{...Object.assign({key:x,role:u?void 0:"textbox"},d,{spellCheck:d.spellCheck,autoCorrect:d.autoCorrect,autoCapitalize:d.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:u?void 0:!0,suppressContentEditableWarning:!0,ref:m,style:PF({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},v),onCopy:O.exports.useCallback(g=>{ie(f,g.target)&&!fe(g,d.onCopy)&&(g.preventDefault(),w.setFragmentData(f,g.clipboardData,"copy"))},[d.onCopy]),onCut:O.exports.useCallback(g=>{if(!u&&ie(f,g.target)&&!fe(g,d.onCut)){g.preventDefault(),w.setFragmentData(f,g.clipboardData,"cut");var{selection:A}=f;if(A)if(E.isExpanded(A))c.deleteFragment(f);else{var F=P.parent(f,A.anchor.path);c.isVoid(f,F)&&b.delete(f)}}},[u,d.onCut]),onFocus:O.exports.useCallback(g=>{if(!u&&!y.isUpdatingSelection&&ie(f,g.target)&&!fe(g,d.onFocus)){var A=w.findDocumentOrShadowRoot(f);y.latestElement=A.activeElement,we.set(f,!0)}},[u,d.onFocus]),onBlur:O.exports.useCallback(g=>{if(!(u||y.isUpdatingSelection||!ie(f,g.target)||fe(g,d.onBlur))){var A=w.findDocumentOrShadowRoot(f);if(y.latestElement!==A.activeElement){var{relatedTarget:F}=g,S=w.toDOMNode(f,f);if(F!==S&&!(ye(F)&&F.hasAttribute("data-slate-spacer"))){if(F!=null&&Re(F)&&w.hasDOMNode(f,F)){var j=w.toSlateNode(f,F);if(X.isElement(j)&&!f.isVoid(j))return}we.delete(f)}}}},[u,d.onBlur]),onClick:O.exports.useCallback(g=>{if(!u&&Ve(f,g.target)&&!fe(g,d.onClick)&&Re(g.target)){var A=w.toSlateNode(f,g.target),F=w.findPath(f,A);if(c.hasPath(f,F)){var S=P.get(f,F);if(S===A){var j=c.start(f,F),M=c.end(f,F),q=c.void(f,{at:j}),K=c.void(f,{at:M});if(q&&K&&p.equals(q[1],K[1])){var V=c.range(f,j);b.select(f,V)}}}}},[u,d.onClick]),onCompositionEnd:O.exports.useCallback(g=>{ie(f,g.target)&&!fe(g,d.onCompositionEnd)&&(R.flush(),setTimeout(()=>{y.isComposing&&D(!1),y.isComposing=!1,We.set(f,!1),un.set(f,!0);var A=sn.get(f)||[];if(!!A.length){sn.set(f,[]);var{selection:F}=f;A.forEach(S=>{var j=S.text.insertText,M=no(f,F,S);b.setSelection(f,M),c.insertText(f,j)})}},SF))},[d.onCompositionEnd]),onCompositionUpdate:O.exports.useCallback(g=>{ie(f,g.target)&&!fe(g,d.onCompositionUpdate)&&(!y.isComposing&&D(!0),y.isComposing=!0,We.set(f,!0))},[d.onCompositionUpdate]),onCompositionStart:O.exports.useCallback(g=>{ie(f,g.target)&&!fe(g,d.onCompositionStart)&&(!y.isComposing&&D(!0),y.isComposing=!0,We.set(f,!0))},[d.onCompositionStart]),onPaste:O.exports.useCallback(g=>{g.clipboardData=aF(g.clipboardData),ie(f,g.target)&&!fe(g,d.onPaste)&&!u&&(g.preventDefault(),w.insertData(f,g.clipboardData))},[u,d.onPaste])}),children:ra({decorations:$,node:f,renderElement:i,renderPlaceholder:l,renderLeaf:s,selection:f.selection})})})})},io=O.exports.createContext(!1),RF=()=>O.exports.useContext(io),IF=O.exports.createContext({});function MF(e){var r=O.exports.useRef([]).current,t=O.exports.useRef({editor:e}).current,n=O.exports.useCallback(u=>{t.editor=u,r.forEach(i=>i(u))},[]),a=O.exports.useMemo(()=>({getSlate:()=>t.editor,addEventListener:u=>(r.push(u),()=>{r.splice(r.indexOf(u),1)})}),[r,t]);return{selectorContext:a,onChange:n}}var NF=["editor","children","onChange","value"],kF=e=>{var{editor:r,children:t,onChange:n,value:a}=e,u=xr(e,NF),i=O.exports.useRef(!1),[s,l]=$r.useState(()=>{if(!P.isNodeList(a))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(Ce.stringify(a)));if(!c.isEditor(r))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(Ce.stringify(r)));return r.children=a,Object.assign(r,u),[r]}),{selectorContext:v,onChange:h}=MF(r),d=O.exports.useCallback(()=>{n&&n(r.children),l([r]),h(r)},[n]);on.set(r,d),O.exports.useEffect(()=>()=>{on.set(r,()=>{}),i.current=!0},[]);var[f,o]=O.exports.useState(w.isFocused(r));return O.exports.useEffect(()=>{o(w.isFocused(r))}),xe(()=>{var D=()=>o(w.isFocused(r));return xE?(document.addEventListener("focusin",D),document.addEventListener("focusout",D),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",D)}):(document.addEventListener("focus",D,!0),document.addEventListener("blur",D,!0),()=>{document.removeEventListener("focus",D,!0),document.removeEventListener("blur",D,!0)})},[]),C(IF.Provider,{value:v,children:C(Ys.Provider,{value:s,children:C(qs.Provider,{value:r,children:C(io.Provider,{value:f,children:t})})})})},pi=(e,r)=>{var t=(r.top+r.bottom)/2;return e.top<=t&&e.bottom>=t},Di=(e,r,t)=>{var n=w.toDOMRange(e,r).getBoundingClientRect(),a=w.toDOMRange(e,t).getBoundingClientRect();return pi(n,a)&&pi(a,n)},LF=(e,r)=>{var t=c.range(e,E.end(r)),n=Array.from(c.positions(e,{at:r})),a=0,u=n.length,i=Math.floor(u/2);if(Di(e,c.range(e,n[a]),t))return c.range(e,n[a],t);if(n.length<2)return c.range(e,n[n.length-1],t);for(;i!==n.length&&i!==a;)Di(e,c.range(e,n[i]),t)?u=i:a=i,i=Math.floor((a+u)/2);return c.range(e,n[u],t)},jF=e=>{var r=e,{apply:t,onChange:n,deleteBackward:a}=r;return vt.set(r,new WeakMap),r.deleteBackward=u=>{if(u!=="line")return a(u);if(e.selection&&E.isCollapsed(e.selection)){var i=c.above(e,{match:h=>c.isBlock(e,h),at:e.selection});if(i){var[,s]=i,l=c.range(e,s,e.selection.anchor),v=LF(r,l);E.isCollapsed(v)||b.delete(e,{at:v})}}},r.apply=u=>{var i=[];switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{i.push(...Wr(r,u.path));break}case"set_selection":{var s;(s=Br.get(e))===null||s===void 0||s.unref(),Br.delete(e);break}case"insert_node":case"remove_node":{i.push(...Wr(r,p.parent(u.path)));break}case"merge_node":{var l=p.previous(u.path);i.push(...Wr(r,l));break}case"move_node":{var v=p.common(p.parent(u.path),p.parent(u.newPath));i.push(...Wr(r,v));break}}t(u);for(var[h,d]of i){var[f]=c.node(r,h);an.set(f,d)}},r.setFragmentData=u=>{var{selection:i}=r;if(!!i){var[s,l]=E.edges(i),v=c.void(r,{at:s.path}),h=c.void(r,{at:l.path});if(!(E.isCollapsed(i)&&!v)){var d=w.toDOMRange(r,i),f=d.cloneContents(),o=f.childNodes[0];if(f.childNodes.forEach($=>{$.textContent&&$.textContent.trim()!==""&&(o=$)}),h){var[D]=h,m=d.cloneRange(),B=w.toDOMNode(r,D);m.setEndAfter(B),f=m.cloneContents()}if(v&&(o=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach($=>{var H=$.getAttribute("data-slate-zero-width")==="n";$.textContent=H?`
`:""}),Xs(o)){var y=o.ownerDocument.createElement("span");y.style.whiteSpace="pre",y.appendChild(o),f.appendChild(y),o=y}var x=r.getFragment(),I=JSON.stringify(x),R=window.btoa(encodeURIComponent(I));o.setAttribute("data-slate-fragment",R),u.setData("application/x-slate-fragment",R);var k=f.ownerDocument.createElement("div");return k.appendChild(f),k.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",Js(k)),f.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var i=u.getData("application/x-slate-fragment")||Qs(u);if(i){var s=decodeURIComponent(window.atob(i)),l=JSON.parse(s);return r.insertFragment(l),!0}return!1},r.insertTextData=u=>{var i=u.getData("text/plain");if(i){var s=i.split(/\r\n|\r|\n/),l=!1;for(var v of s)l&&b.splitNodes(r,{always:!0}),r.insertText(v),l=!0;return!0}return!1},r.onChange=()=>{wo.unstable_batchedUpdates(()=>{var u=on.get(r);u&&u(),n()})},r},Wr=(e,r)=>{var t=[];for(var[n,a]of c.levels(e,{at:r})){var u=w.findKey(e,n);t.push([a,u])}return t},WF=Yn?TF:oF;/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var HF=/["'&<>]/,zF=GF;function GF(e){var r=""+e,t=HF.exec(r);if(!t)return r;var n,a="",u=0,i=0;for(u=t.index;u<r.length;u++){switch(r.charCodeAt(u)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==u&&(a+=r.substring(i,u)),i=u+1,a+=n}return i!==u?a+r.substring(i,u):a}function so(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var oo=new WeakMap,lo=new WeakMap;class na{}class gt extends na{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();var{offset:t,path:n}=r;this.offset=t,this.path=n}}class pt extends na{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();var{offset:t,path:n}=r;this.offset=t,this.path=n}}var UF=(e,r)=>{var t=e.text.length;oo.set(e,[t,r])},KF=e=>oo.get(e),qF=(e,r)=>{var t=e.text.length;lo.set(e,[t,r])},VF=e=>lo.get(e);function Ci(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function fn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ci(Object(t),!0).forEach(function(n){so(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ci(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Gr=new WeakSet,Dt=e=>{var r=[],t=a=>{if(a!=null){var u=r[r.length-1];if(typeof a=="string"){var i={text:a};Gr.add(i),a=i}if(L.isText(a)){var s=a;L.isText(u)&&Gr.has(u)&&Gr.has(s)&&L.equals(u,s,{loose:!0})?u.text+=s.text:r.push(s)}else if(X.isElement(a))r.push(a);else if(a instanceof na){var l=r[r.length-1];L.isText(l)||(t(""),l=r[r.length-1]),a instanceof gt?UF(l,a):a instanceof pt&&qF(l,a)}else throw new Error("Unexpected hyperscript child object: ".concat(a))}};for(var n of e.flat(1/0))t(n);return r};function YF(e,r,t){return new gt(r)}function XF(e,r,t){return[new gt(r),new pt(r)]}function fo(e,r,t){return fn(fn({},r),{},{children:Dt(t)})}function ZF(e,r,t){return new pt(r)}function JF(e,r,t){return Dt(t)}function QF(e,r,t){var n=t.find(u=>u instanceof gt),a=t.find(u=>u instanceof pt);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!a||a.offset==null||a.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return fn({anchor:{offset:n.offset,path:n.path},focus:{offset:a.offset,path:a.path}},r)}function eb(e,r,t){var n=Dt(t);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[a]=n;if(a==null&&(a={text:""}),!L.isText(a))throw new Error(`
    The <text> hyperscript tag can only contain text content as children.`);return Gr.delete(a),Object.assign(a,r),a}var rb=e=>(r,t,n)=>{var a=[],u;for(var i of n)E.isRange(i)?u=i:a.push(i);var s=Dt(a),l={},v=e();Object.assign(v,t),v.children=s;for(var[h,d]of P.texts(v)){var f=KF(h),o=VF(h);if(f!=null){var[D]=f;l.anchor={path:d,offset:D}}if(o!=null){var[m]=o;l.focus={path:d,offset:m}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return u!=null?v.selection=u:E.isRange(l)&&(v.selection=l),v};function mi(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function yr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mi(Object(t),!0).forEach(function(n){so(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mi(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var tb={anchor:YF,cursor:XF,editor:rb(_s),element:fo,focus:ZF,fragment:JF,selection:QF,text:eb},nb=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:t={}}=r,n=ub(t),a=yr(yr(yr({},tb),n),r.creators),u=ab(a);return u},ab=e=>{var r=function(n,a){for(var u=arguments.length,i=new Array(u>2?u-2:0),s=2;s<u;s++)i[s-2]=arguments[s];var l=e[n];if(!l)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));a==null&&(a={}),De(a)||(i=[a].concat(i),a={}),i=i.filter(h=>Boolean(h)).flat();var v=l(n,a,i);return v};return r},ub=e=>{var r={},t=function(u){var i=e[u];if(typeof i!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(u,">  tag you passed: ").concat(i));r[u]=(s,l,v)=>fo("element",yr(yr({},i),l),v)};for(var n in e)t(n);return r},Gt=nb();const Ai=["numbered-list","bulleted-list"],Bi={H1:()=>({type:"h1"}),H2:()=>({type:"h2"}),H3:()=>({type:"h3"}),H4:()=>({type:"h4"}),H5:()=>({type:"h5"}),H6:()=>({type:"h6"}),BLOCKQUOTE:()=>({type:"block-quote"}),IMG:e=>({type:"image",url:e.getAttribute("src")}),LI:()=>({type:"list-item"}),OL:()=>({type:"numbered-list"}),P:()=>({type:"paragraph"}),PRE:e=>({type:"code-block",language:e.getAttribute("language")}),UL:()=>({type:"bulleted-list"})},yi={CODE:()=>({code:!0}),DEL:()=>({strikethrough:!0}),EM:()=>({italic:!0}),I:()=>({italic:!0}),S:()=>({strikethrough:!0}),STRONG:()=>({bold:!0}),B:()=>({bold:!0}),U:e=>({underline:!0,color:e.getAttribute("color")}),SUB:()=>({subscript:!0}),SUP:()=>({superscript:!0}),A:e=>({link:!0,url:e.getAttribute("href")})},aa=(e,r)=>{const t=c.marks(e);return t?t[r]===!0:!1},co=(e,r)=>{aa(e,r)?c.removeMark(e,r):c.addMark(e,r,!0)},vo=(e,r)=>{const[t]=c.nodes(e,{match:n=>!c.isEditor(n)&&X.isElement(n)&&n.type===r});return!!t},ib=(e,r)=>{const t=vo(e,r),n=Ai.includes(r);b.unwrapNodes(e,{match:u=>Ai.includes(!c.isEditor(u)&&X.isElement(u)&&u.type),split:!0});const a={type:t?"paragraph":n?"list-item":r};if(b.setNodes(e,a),!t&&n){const u={type:r,children:[]};b.wrapNodes(e,u)}},ua=e=>{if(e.nodeType===3)return e.textContent;if(e.nodeType!==1)return null;if(e.nodeName==="BR")return`
`;const{nodeName:r}=e;let t=e;r==="PRE"&&e.childNodes[0]&&e.childNodes[0].nodeName==="CODE"&&(t=e.childNodes[0]);const n=Array.from(t.childNodes).map(ua).flat();if(r==="BODY")return Gt("fragment",{},n);if(n.length===0&&n.push({text:""}),Bi[r]){const a=Bi[r](e);return Gt("element",a,n)}if(yi[r]){const a=yi[r](e);return n.map(u=>Gt("text",a,u))}return n},ho=e=>{if(L.isText(e)){let t=zF(e.text);return t=t.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;"),e.bold&&(t=`<strong>${t}</strong>`),e.italic&&(t=`<em>${t}</em>`),e.underline&&(t=`<u color='${e.color?e.color:"blue"}'>${t}</u>`),e.strikethrough&&(t=`<s>${t}</s>`),e.code&&(t=`<code>${t}</code>`),e.subscript&&(t=`<sub>${t}</sub>`),e.superscript&&(t=`<sup>${t}</sup>`),e.link&&(t=`<a href='${e.url?e.url:""}' target='_blank'>${t}</a>`),t}const r=e.children.map(t=>ho(t)).join("");switch(e.type){case"h1":return`<h1>${r}</h1>`;case"h2":return`<h2>${r}</h2>`;case"h3":return`<h3>${r}</h3>`;case"h4":return`<h4>${r}</h4>`;case"h5":return`<h5>${r}</h5>`;case"h6":return`<h6>${r}</h6>`;case"block-quote":return`<blockquote>${r}</blockquote>`;case"paragraph":return`<p>${r}</p>`;case"bulleted-list":return`<ul>${r}</ul>`;case"list-item":return`<li>${r}</li>`;case"numbered-list":return`<ol>${r}</ol>`;case"code-block":return`<pre language='${e.language}'><code>${r}</code></pre>`;case"image":return`<img src='${e.url}' align='${e.align?e.align:"center"}'/>`;default:return r}},sb=(e,r)=>{var a;const t={type:"image",url:r,children:[{text:""}]},{selection:n}=e;if(w.focus(e),n){const[u,i]=c.parent(e,(a=n.focus)==null?void 0:a.path);c.isVoid(e,u)||P.string(u).length?b.insertNodes(e,t,{at:p.next(i),select:!0}):(b.removeNodes(e,{at:i}),b.insertNodes(e,t,{at:i,select:!0}))}else b.insertNodes(e,t,{select:!0})},ia=e=>e==="bold"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})]}):e==="italic"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})]}):e==="underline"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"})]}):e==="strikethrough"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M12 19c1.1 0 2-.9 2-2v-1h-4v1c0 1.1.9 2 2 2zM5 5.5C5 6.33 5.67 7 6.5 7H10v3h4V7h3.5c.83 0 1.5-.67 1.5-1.5S18.33 4 17.5 4h-11C5.67 4 5 4.67 5 5.5zM4 14h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1z"})]}):e==="code-block"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})]}):e==="code"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"})]}):e==="block-quote"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"})]}):e==="bulleted-list"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"})]}):e==="numbered-list"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0z",fill:"none"}),C("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})]}):e==="image"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z"})]}):e==="h1"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 14c-.55 0-1-.45-1-1V9h-1c-.55 0-1-.45-1-1s.45-1 1-1h2c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1z"})]}):e==="h2"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.1-.9 2-2 2h-2v2h3c.55 0 1 .45 1 1s-.45 1-1 1h-4c-.55 0-1-.45-1-1v-3c0-1.1.9-2 2-2h2V9h-3c-.55 0-1-.45-1-1s.45-1 1-1h3c1.1 0 2 .9 2 2v2z"})]}):e==="h3"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M19 3H5.01c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3.99 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2H10c-.55 0-1-.45-1-1s.45-1 1-1h3.01L13 13h-1c-.55 0-1-.45-1-1s.45-1 1-1h1l.01-2H10c-.55 0-.99-.45-.99-1s.44-1 .99-1h3.01c1.1 0 2 .9 2 2v1.5z"})]}):e==="h4"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M.04 0h24v24h-24V0z",fill:"none"}),C("path",{d:"M19.04 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14c-.55 0-1-.45-1-1v-3h-3c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v3h2V8c0-.55.45-1 1-1s1 .45 1 1v8c0 .55-.45 1-1 1z"})]}):e==="h5"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 6h-3v2h2c1.1 0 2 .9 2 2v2c0 1.11-.9 2-2 2h-3c-.55 0-1-.45-1-1s.45-1 1-1h3v-2h-3c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1h4c.55 0 1 .45 1 1s-.45 1-1 1z"})]}):e==="h6"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 6h-3v2h2c1.1 0 2 .9 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.1.9-2 2-2h3c.55 0 1 .45 1 1s-.45 1-1 1z"})]}):e==="subscript"?C("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 20",width:"20px",fill:"#000000",children:J("g",{children:[C("rect",{fill:"none",height:"24",width:"24"}),C("path",{d:"M10.52,10.73L7.3,5.72C6.82,4.97,7.35,4,8.23,4h0c0.39,0,0.74,0.2,0.95,0.53l2.76,4.46h0.12l2.74-4.45 C15.01,4.2,15.37,4,15.76,4h0c0.88,0,1.42,0.98,0.94,1.72l-3.23,5l3.55,5.55C17.5,17.02,16.96,18,16.08,18h0 c-0.38,0-0.74-0.2-0.95-0.52l-3.07-4.89h-0.12l-3.07,4.89C8.67,17.8,8.31,18,7.92,18h0c-0.88,0-1.42-0.97-0.94-1.72L10.52,10.73z M23,19.5L23,19.5c0-0.28-0.22-0.5-0.5-0.5c0,0,0,0,0,0H20v-1h2c0.55,0,1-0.45,1-1v-1c0-0.55-0.45-1-1-1h-2.5 c-0.28,0-0.5,0.22-0.5,0.5v0c0,0.28,0.22,0.5,0.5,0.5H22v1h-2c-0.55,0-1,0.45-1,1v1c0,0.55,0.45,1,1,1h2.5 C22.78,20,23,19.78,23,19.5z"})]})}):e==="superscript"?C("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:J("g",{children:[C("rect",{fill:"none",height:"24",width:"24",x:"0",y:"0"}),C("path",{d:"M10.51,12.73L7.3,7.72C6.82,6.97,7.35,6,8.23,6h0c0.39,0,0.74,0.2,0.95,0.53l2.76,4.46h0.12l2.74-4.45 C15,6.2,15.36,6,15.75,6h0c0.88,0,1.42,0.98,0.94,1.72l-3.23,5l3.55,5.55C17.5,19.02,16.96,20,16.08,20h0 c-0.38,0-0.74-0.2-0.95-0.52l-3.07-4.89h-0.12l-3.07,4.89C8.66,19.8,8.31,20,7.92,20h0c-0.88,0-1.42-0.97-0.94-1.72L10.51,12.73z M23,8.5L23,8.5C23,8.22,22.78,8,22.5,8c0,0,0,0,0,0H20V7h2c0.55,0,1-0.45,1-1V5c0-0.55-0.45-1-1-1h-2.5C19.22,4,19,4.22,19,4.5v0 C19,4.78,19.22,5,19.5,5H22v1h-2c-0.55,0-1,0.45-1,1v1c0,0.55,0.45,1,1,1h2.5C22.78,9,23,8.78,23,8.5z"})]})}):e==="link"?J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#000000",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M3.96 11.38C4.24 9.91 5.62 8.9 7.12 8.9h2.93c.52 0 .95-.43.95-.95S10.57 7 10.05 7H7.22c-2.61 0-4.94 1.91-5.19 4.51C1.74 14.49 4.08 17 7 17h3.05c.52 0 .95-.43.95-.95s-.43-.95-.95-.95H7c-1.91 0-3.42-1.74-3.04-3.72zM9 13h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1s.45 1 1 1zm7.78-6h-2.83c-.52 0-.95.43-.95.95s.43.95.95.95h2.93c1.5 0 2.88 1.01 3.16 2.48.38 1.98-1.13 3.72-3.04 3.72h-3.05c-.52 0-.95.43-.95.95s.43.95.95.95H17c2.92 0 5.26-2.51 4.98-5.49-.25-2.6-2.59-4.51-5.2-4.51z"})]}):null,ob=({attributes:e,children:r,element:t})=>{const n=qE(),a=RF();return J("div",{...e,children:[C("div",{contentEditable:!1,className:`Image-Box ${t.align}`,children:C("img",{alt:t.alt,src:xo(t.url),className:`Image ${n&&a?"Active":""}`})}),r]})},lb=e=>{const{attributes:r,children:t,element:n}=e;switch(n.type){case"h1":return C("h1",{...r,children:t});case"h2":return C("h2",{...r,children:t});case"h3":return C("h3",{...r,children:t});case"h4":return C("h4",{...r,children:t});case"h5":return C("h5",{...r,children:t});case"h6":return C("h6",{...r,children:t});case"block-quote":return C("blockquote",{...r,children:t});case"bulleted-list":return C("ul",{...r,children:t});case"list-item":return C("li",{...r,children:t});case"numbered-list":return C("ol",{...r,children:t});case"code-block":return C("pre",{...r,children:C("code",{language:n.language,children:t})});case"image":return C(ob,{...e});default:return C("p",{...r,children:t})}},fb=({attributes:e,children:r,leaf:t})=>(t.bold&&(r=C("strong",{children:r})),t.code&&(r=C("code",{children:r})),t.italic&&(r=C("em",{children:r})),t.underline&&(r=C("u",{color:t.color,children:r})),t.subscript&&(r=C("sub",{children:r})),t.superscript&&(r=C("sup",{children:r})),t.link&&(r=C("a",{href:t.url,children:r})),C("span",{...e,children:r})),me=({format:e,mark:r=!0,block:t})=>{const n=Me(),a=t?vo(n,e):aa(n,e);return C("div",{onMouseDown:u=>{u.preventDefault(),t?ib(n,e):r&&co(n,e)},className:`Item ${a?"Active":""}`,children:ia(e)})},cb=()=>{const e=Me(),r=O.exports.useRef(),{t}=_r();return J("div",{className:"Item",onMouseDown:a=>{a.preventDefault(),r.current.click()},children:[C("input",{ref:r,type:"file",accept:"image/png, image/gif, image/jpeg",multiple:!0,onChange:async a=>{const u=a.target.files.length;for(let i=0;i<u;i++)try{va({text:t("Uploading {{current}}/{{total}}",{current:i+1,total:u})});const{key:s}=await Oo(a.target.files[i]);sb(e,s)}catch(s){va({text:s.msg})}}}),ia("image")]})},vb=()=>{const e=Me(),r=aa(e,"link");return C("div",{onMouseDown:t=>{t.preventDefault(),co(e,"link")},className:`Item ${r?"Active":""}`,children:ia("link")})},db=({options:e={}})=>J("div",{className:"Toolbar",children:[e.heading?J(Ye,{children:[C(me,{block:!0,format:"h1"}),C(me,{block:!0,format:"h2"}),C(me,{block:!0,format:"h3"}),C(me,{block:!0,format:"h4"}),C(me,{block:!0,format:"h5"}),C(me,{block:!0,format:"h6"})]}):null,C(me,{format:"bold"}),C(me,{format:"italic"}),C(me,{format:"underline"}),C(me,{format:"code"}),e.subscript?J(Ye,{children:[C(me,{format:"superscript"}),C(me,{format:"subscript"})]}):null,e.codeBlock?C(me,{block:!0,format:"code-block"}):null,e.blockQuote?C(me,{block:!0,format:"block-quote"}):null,C(me,{block:!0,format:"bulleted-list"}),C(me,{block:!0,format:"numbered-list"}),e.image?C(cb,{}):null,C(vb,{})]}),hb=()=>{const e=O.exports.useRef(),r=O.exports.useRef(),t=O.exports.useRef(!1),n=Me(),[a,u]=O.exports.useState(),{t:i}=_r();return O.exports.useEffect(()=>{if(!r.current||!t.current)return;const[s,l]=c.parent(n,r.current);!s||b.setNodes(n,{...s,language:a},{at:l,select:!0})},[a]),O.exports.useEffect(()=>{const s=e.current,{selection:l}=n;if(!s||t.current)return;if(!l||!w.isFocused(n)){s.removeAttribute("style");return}r.current=l.focus.path;const[v]=c.parent(n,r.current);if(v.type!="code-block"){s.removeAttribute("style");return}u(v.language);const f=window.getSelection().getRangeAt(0).getBoundingClientRect();s.style.opacity="1",s.style.visibility="visible",s.style.top=`${f.top+window.pageYOffset-s.offsetHeight}px`,s.style.left=`${f.left+window.pageXOffset-s.offsetWidth/2+f.width/2}px`}),C("div",{ref:e,className:"Hover-Toolbar",children:C("input",{type:"text",placeholder:i("Language"),onFocus:()=>{t.current=!0},onBlur:()=>{t.current=!1},value:a||"",onChange:s=>{u(s.target.value)}})})},gb=["start","center","end"],pb=({align:e="center",onChange:r})=>{const{t}=_r();return C("div",{className:"flex flex-col",children:C("div",{className:"flex flex-row items-center",children:C(Le,{value:e,onChange:n=>{r(n)},children:J("div",{className:"relative ml-3",children:[C(Le.Button,{className:"flex px-2 Input-Small font-medium border-2 border-blue-300 bg-white rounded-md items-center cursor-pointer focus:outline-none",children:C("span",{style:{minWidth:"60px"},className:"capitalize Text-Small block truncate",children:t(e)})}),C(Le.Options,{className:"z-10 mt-1 py-1 border-2 border-blue-300 absolute overflow-auto bg-white rounded-md shadow-lg outline-none",children:gb.map((n,a)=>C(Le.Option,{className:"capitalize flex items-center cursor-default select-none Input-Small pr-4",value:n,children:({selected:u,active:i})=>J(Ye,{children:[C("span",{className:`${u?"font-medium":"font-normal"} truncate Text-Small capitalize`,children:t(n)}),u?C("span",{className:"flex items-center pl-4",children:J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#3b82f6",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"})]})}):null]})},a))})]})})})})},Db=()=>{const e=O.exports.useRef(),r=O.exports.useRef(),t=O.exports.useRef(!1),n=Me(),[a,u]=O.exports.useState("center");return O.exports.useEffect(()=>{if(!r.current||!t.current)return;const[i,s]=c.parent(n,r.current);!i||b.setNodes(n,{...i,align:a},{at:s,select:!0})},[a]),O.exports.useEffect(()=>{const i=e.current,{selection:s}=n;if(!i||t.current)return;if(!s||!w.isFocused(n)){i.removeAttribute("style");return}r.current=s.focus.path;const[l]=c.parent(n,r.current);if(l.type!="image"){i.removeAttribute("style");return}u(l.align);const d=window.getSelection().getRangeAt(0).getBoundingClientRect();i.style.opacity="1",i.style.visibility="visible",i.style.top=`${d.top+window.pageYOffset-i.offsetHeight}px`,i.style.left=`${d.left}px`}),C("div",{ref:e,onFocus:()=>{t.current=!0},onBlur:()=>{t.current=!1},className:"Hover-Toolbar",children:C(pb,{align:a,onChange:i=>{u(i)}})})},Cb=()=>{const e=O.exports.useRef(),r=O.exports.useRef(),t=O.exports.useRef(!1),n=Me(),[a,u]=O.exports.useState(),{t:i}=_r();return O.exports.useEffect(()=>{if(!r.current||!t.current)return;const[s]=c.node(n,r.current);!s||b.setNodes(n,{...s,url:a},{at:r.current,select:!0})},[a]),O.exports.useEffect(()=>{const s=e.current,{selection:l}=n;if(!s||t.current)return;if(!l||!w.isFocused(n)){s.removeAttribute("style");return}r.current=l.focus.path;const[v]=c.node(n,r.current);if(!v.link){s.removeAttribute("style");return}u(v.url);const f=window.getSelection().getRangeAt(0).getBoundingClientRect();s.style.opacity="1",s.style.visibility="visible",s.style.top=`${f.top+window.pageYOffset-s.offsetHeight}px`,s.style.left=`${f.left+window.pageXOffset-s.offsetWidth/2+f.width/2}px`}),C("div",{ref:e,className:"Hover-Toolbar",children:C("input",{type:"text",placeholder:i("Link"),onFocus:()=>{t.current=!0},onBlur:()=>{t.current=!1},value:a,onChange:s=>{u(s.target.value)}})})},mb=["blue","red","green"],Ab=({color:e="blue",onChange:r})=>{const{t}=_r();return C("div",{className:"flex flex-col",children:C("div",{className:"flex flex-row items-center",children:C(Le,{value:e,onChange:n=>{r(n)},children:J("div",{className:"relative ml-3",children:[C(Le.Button,{className:"flex px-2 Input-Small font-medium border-2 border-blue-300 bg-white rounded-md items-center cursor-pointer focus:outline-none",children:C("span",{style:{minWidth:"60px"},className:"capitalize Text-Small block truncate",children:t(e)})}),C(Le.Options,{className:"z-10 mt-1 py-1 border-2 border-blue-300 absolute overflow-auto bg-white rounded-md shadow-lg outline-none",children:mb.map((n,a)=>C(Le.Option,{className:"capitalize flex items-center cursor-default select-none Input-Small pr-4",value:n,children:({selected:u,active:i})=>J(Ye,{children:[C("span",{className:`${u?"font-medium":"font-normal"} truncate Text-Small capitalize`,children:t(n)}),u?C("span",{className:"flex items-center pl-4",children:J("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"#3b82f6",children:[C("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"})]})}):null]})},a))})]})})})})},Bb=()=>{const e=O.exports.useRef(),r=O.exports.useRef(),t=O.exports.useRef(!1),n=Me(),[a,u]=O.exports.useState("blue");return O.exports.useEffect(()=>{if(!r.current||!t.current)return;const[i]=c.node(n,r.current);!i||b.setNodes(n,{...i,color:a},{at:r.current,select:!0})},[a]),O.exports.useEffect(()=>{const i=e.current,{selection:s}=n;if(!i||t.current)return;if(!s||!w.isFocused(n)){i.removeAttribute("style");return}r.current=s.focus.path;const[l]=c.node(n,r.current);if(!l.underline){i.removeAttribute("style");return}u(l.color);const d=window.getSelection().getRangeAt(0).getBoundingClientRect();i.style.opacity="1",i.style.visibility="visible",i.style.top=`${d.top+window.pageYOffset-i.offsetHeight}px`,i.style.left=`${d.left}px`}),C("div",{ref:e,onFocus:()=>{t.current=!0},onBlur:()=>{t.current=!1},className:"Hover-Toolbar",children:C(Ab,{color:a,onChange:i=>{u(i)}})})},Ei={type:"paragraph",children:[{text:""}]},yb=e=>{const{deleteBackward:r,insertBreak:t,insertData:n,isInline:a,isVoid:u}=e;e.isInline=s=>s.type==="link"?!0:a(s),e.isVoid=s=>s.type==="image"?!0:u(s),e.deleteBackward=(...s)=>{const[l,v]=c.parent(e,e.selection.focus.path);c.isVoid(e,l)?b.removeNodes(e,{at:v}):i(...s),e.children.length===0&&b.insertNodes(e,Ei,{select:!0})};const i=(...s)=>{let[l,v]=c.parent(e,e.selection.focus.path),h;const d=l.type==="paragraph"?1:0;for(;X.isElement(l)&&d===P.string(l).length;)h=v,l=P.parent(e,v),v=p.parent(v);h?b.removeNodes(e,{at:h}):r(...s)};return e.insertBreak=(...s)=>{const[l,v]=c.parent(e,e.selection.focus.path);if(c.isVoid(e,l)){const h=p.next(v);b.insertNodes(e,Ei,{at:h,select:!0})}else l.type==="code-block"||l.type==="block-quote"?b.insertText(e,`
`):t(...s)},e.insertData=s=>{const l=s.getData("text/html");if(l){const h=new DOMParser().parseFromString(l,"text/html"),d=ua(h.body);d.length!==0&&b.insertFragment(e,d);return}const v=s.getData("text/plain");if(v){b.insertText(e,v);return}n(s)},e},Eb=[{type:"paragraph",children:[{text:""}]}],Fb=XB(jF,eE,yb),bb=e=>{const r=new DOMParser().parseFromString(e,"text/html"),t=ua(r.body);return t.length===0?Eb:t},xb=e=>{const{defaultValue:r,placeholder:t="",onChange:n,options:a}=e,u=O.exports.useMemo(()=>Fb(_s()),[]),i=O.exports.useCallback(l=>C(lb,{...l}),[]),s=O.exports.useCallback(l=>C(fb,{...l}),[]);return C(kF,{editor:u,value:bb(r),onChange:()=>{n(ho(u))},children:J("div",{className:"Rich-Text",children:[C(Cb,{}),C(hb,{}),C(Db,{}),C(Bb,{}),C(db,{options:a}),C(WF,{renderElement:i,placeholder:t,onKeyDown:l=>{l.key==="Tab"&&(l.preventDefault(),u.insertText("    "))},renderLeaf:s,className:"Rich-Editor"})]})})};export{xb as default};
